"use strict";exports.id=7072,exports.ids=[7072],exports.modules={7072:(e,a,t)=>{t.r(a),t.d(a,{default:()=>r});var s=t(326),l=t(7577);let r=()=>{let[e,a]=(0,l.useState)(""),[t,r]=(0,l.useState)(""),[n,i]=(0,l.useState)(""),[o,c]=(0,l.useState)(null),[d,m]=(0,l.useState)(null),[u,b]=(0,l.useState)(""),[p,x]=(0,l.useState)(""),[h,f]=(0,l.useState)([""]),[v,N]=(0,l.useState)([""]),[j,g]=(0,l.useState)([]),[y,S]=(0,l.useState)(null);(0,l.useEffect)(()=>{E()},[]);let E=async()=>{try{let e=await fetch("/services.json"),a=await e.json();g(a)}catch(e){console.error("Error fetching server data:",e)}},w=(e,a)=>{let t=[...h];t[e]=a,f(t)},C=(e,a)=>{let t=[...v];t[e]=a,N(t)},R=e=>{f(h.filter((a,t)=>t!==e))},D=e=>{N(v.filter((a,t)=>t!==e))},k=()=>{if(null!==y){let e=j[y]?.tabNumber;return!j.some(a=>a.tabNumber===parseInt(u,10)&&a.tabNumber!==e)}return!j.some(e=>e.tabNumber===parseInt(u,10))},I=async a=>{if(a.preventDefault(),isNaN(parseInt(u,10))){alert("Tab number must be a valid number.");return}if(null===y&&!k()){alert("Tab number already exists! Please choose a different tab number.");return}try{let a="",s="";if(null!==y){let e=j[y];a=e.imageUrl||"",s=e.iconUrl||""}if(o){let e=new FormData;e.append("file",o);let t=await fetch("/api/uploadImage",{method:"POST",body:e});if(t.ok)a=(await t.json()).imageUrl;else throw Error("Image upload failed.")}if(d){let e=new FormData;e.append("file",d);let a=await fetch("/api/uploadImage",{method:"POST",body:e});if(a.ok)s=(await a.json()).imageUrl;else throw Error("Icon upload failed.")}let l={title:e,description:t,description1:n,imageUrl:a,iconUrl:s,tabNumber:parseInt(u,10),description2:p,points:h.filter(e=>""!==e.trim()),benefits:v.filter(e=>""!==e.trim())},r=null!==y?`/api/saveServerData?index=${y}`:"/api/saveServerData",i=await fetch(r,{method:null!==y?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)});if(!i.ok){let e=await i.json();throw Error(e.error||"Failed to save server data.")}alert("Service data saved successfully!"),E(),P()}catch(e){console.error("Error saving server data:",e),alert(`Failed to save server data: ${e.message}`)}},T=e=>{let t=j[e];a(t.title),r(t.description),i(t.description1),x(t.description2),b(t.tabNumber),f(t.points||[""]),N(t.benefits||[""]),S(e)},F=async e=>{try{await fetch(`/api/saveServerData?index=${e}`,{method:"DELETE"}),alert("Server data deleted successfully!"),E()}catch(e){console.error("Error deleting server data:",e),alert("Failed to delete server data.")}},P=()=>{a(""),r(""),i(""),c(null),m(null),b(""),x(""),f([""]),N([""]),S(null)};return(0,s.jsxs)("div",{className:"container mt-5",children:[s.jsx("h1",{className:"text-center mb-4",children:"Solutions Dashboard"}),s.jsx("div",{className:"card mx-auto shadow-lg p-4",style:{maxWidth:"600px",borderRadius:"15px"},children:(0,s.jsxs)("form",{onSubmit:I,children:[(0,s.jsxs)("div",{className:"mb-3",children:[s.jsx("label",{className:"form-label",children:"Server Name:"}),s.jsx("input",{type:"text",className:"form-control",value:e,onChange:e=>a(e.target.value),placeholder:"Enter server name",style:{borderRadius:"10px"}})]}),(0,s.jsxs)("div",{className:"mb-3",children:[s.jsx("label",{className:"form-label",children:"Solutions Description:"}),s.jsx("textarea",{className:"form-control",value:t,onChange:e=>r(e.target.value),placeholder:"Enter server description",style:{borderRadius:"10px"}})]}),(0,s.jsxs)("div",{className:"mb-3",children:[s.jsx("label",{className:"form-label",children:"Solutions Image:"}),s.jsx("input",{type:"file",className:"form-control",onChange:e=>c(e.target.files[0]),style:{borderRadius:"10px"}})]}),(0,s.jsxs)("div",{className:"mb-3",children:[s.jsx("label",{className:"form-label",children:"Icon (SVG):"}),s.jsx("input",{type:"file",className:"form-control",onChange:e=>m(e.target.files[0]),accept:".svg",style:{borderRadius:"10px"}})]}),(0,s.jsxs)("div",{className:"mb-3",children:[s.jsx("label",{className:"form-label",children:"Tab Number:"}),s.jsx("input",{type:"number",className:"form-control",value:u,onChange:e=>b(e.target.value),placeholder:"Enter tab number",style:{borderRadius:"10px"}})]}),(0,s.jsxs)("div",{className:"mb-3",children:[s.jsx("label",{className:"form-label",children:"Solutions details Description:"}),s.jsx("textarea",{className:"form-control",value:n,onChange:e=>i(e.target.value),placeholder:"Enter Solutions details description1",style:{borderRadius:"10px"}})]}),(0,s.jsxs)("div",{className:"mb-3",children:[s.jsx("label",{className:"form-label",children:"Solution detailsDescription 2:"}),s.jsx("textarea",{className:"form-control",value:p,onChange:e=>x(e.target.value),placeholder:"Enter additional description",style:{borderRadius:"10px"}})]}),(0,s.jsxs)("div",{className:"mb-3",children:[s.jsx("label",{className:"form-label",children:"Points:"}),h.map((e,a)=>(0,s.jsxs)("div",{className:"d-flex mb-2",children:[s.jsx("input",{type:"text",className:"form-control",value:e,onChange:e=>w(a,e.target.value),placeholder:"Enter point",style:{borderRadius:"10px"}}),s.jsx("button",{type:"button",className:"btn btn-danger ms-2",onClick:()=>R(a),children:"Remove"})]},a)),s.jsx("button",{type:"button",className:"btn btn-secondary mt-2",onClick:()=>f([...h,""]),children:"Add Point"})]}),(0,s.jsxs)("div",{className:"mb-3",children:[s.jsx("label",{className:"form-label",children:"Benefits:"}),v.map((e,a)=>(0,s.jsxs)("div",{className:"d-flex mb-2",children:[s.jsx("input",{type:"text",className:"form-control",value:e,onChange:e=>C(a,e.target.value),placeholder:"Enter benefit",style:{borderRadius:"10px"}}),s.jsx("button",{type:"button",className:"btn btn-danger ms-2",onClick:()=>D(a),children:"Remove"})]},a)),s.jsx("button",{type:"button",className:"btn btn-secondary mt-2",onClick:()=>N([...v,""]),children:"Add Benefit"})]}),s.jsx("button",{type:"submit",className:"btn btn-primary w-100",style:{borderRadius:"10px",backgroundColor:"#FF6600"},children:null!==y?"Update":"Save"})]})}),(0,s.jsxs)("div",{className:"mt-5",children:[s.jsx("h2",{className:"text-center",children:"Existing Solutions"}),s.jsx("ul",{className:"list-group",children:j.map((e,a)=>(0,s.jsxs)("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:[e.title,(0,s.jsxs)("div",{children:[s.jsx("button",{className:"btn btn-warning btn-sm me-2",onClick:()=>T(a),children:"Edit"}),s.jsx("button",{className:"btn btn-danger btn-sm",onClick:()=>F(a),children:"Delete"})]})]},a))})]})]})}}};