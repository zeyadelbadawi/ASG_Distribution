(()=>{var e={};e.id=1408,e.ids=[1408],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1017:e=>{"use strict";e.exports=require("path")},7310:e=>{"use strict";e.exports=require("url")},5951:(e,a,t)=>{"use strict";t.r(a),t.d(a,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>d}),t(604),t(7764),t(2471),t(1888);var s=t(3191),r=t(8716),l=t(7922),i=t.n(l),n=t(5231),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);t.d(a,o);let d=["",{children:["admiiin",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,604)),"/home/ziad/ASG_Distribution/app/admiiin/page.js"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,7481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,7764)),"/home/ziad/ASG_Distribution/app/layout.js"],loading:[()=>Promise.resolve().then(t.bind(t,2471)),"/home/ziad/ASG_Distribution/app/loading.js"],"not-found":[()=>Promise.resolve().then(t.bind(t,1888)),"/home/ziad/ASG_Distribution/app/not-found.js"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,7481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/home/ziad/ASG_Distribution/app/admiiin/page.js"],m="/admiiin/page",p={require:t,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/admiiin/page",pathname:"/admiiin",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},4291:(e,a,t)=>{Promise.resolve().then(t.bind(t,2500))},2500:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>l});var s=t(326),r=t(7577);let l=()=>{let[e,a]=(0,r.useState)(""),[t,l]=(0,r.useState)(""),[i,n]=(0,r.useState)(""),[o,d]=(0,r.useState)(""),[c,m]=(0,r.useState)(""),[p,u]=(0,r.useState)(""),[x,h]=(0,r.useState)(""),[b,g]=(0,r.useState)(null),[v,j]=(0,r.useState)([]),[f,y]=(0,r.useState)([]),[N,S]=(0,r.useState)(""),[w,P]=(0,r.useState)([]),[_,E]=(0,r.useState)(null);(0,r.useEffect)(()=>{D()},[]);let D=async()=>{try{let e=await fetch("/api/blog"),a=await e.json();P(a)}catch(e){console.error("Error fetching server data:",e)}},C=async a=>{a.preventDefault();let s=w.findIndex(a=>a.id===e);if(-1!==s&&s!==_){alert("The ID already exists. Please use a different ID.");return}let r=new FormData;r.append("id",e),r.append("date",t),r.append("title",i),r.append("description",o),r.append("description2",c),r.append("category",p),r.append("comments",x),r.append("reviews",f.join(",")),r.append("image",b),v.forEach((e,a)=>{r.append(`multiImage${a}`,e)});try{let e=null!==_?`/api/blog?index=${_}`:"/api/blog",a=null!==_?"PUT":"POST";await fetch(e,{method:a,body:r}),alert("Server data saved successfully!"),D(),q()}catch(e){console.error("Error saving server data:",e),alert("Failed to save server data.")}},A=e=>{let t=w[e];a(t.id),l(t.date),n(t.title),d(t.description),m(t.description2),u(t.category),h(t.comments),y(t.reviews&&"string"==typeof t.reviews?t.reviews.split(","):Array.isArray(t.reviews)?t.reviews:[]),E(e)},R=async e=>{try{await fetch(`/api/blog?index=${e}`,{method:"DELETE"}),alert("Server data deleted successfully!"),D()}catch(e){console.error("Error deleting server data:",e),alert("Failed to delete server data.")}},q=()=>{a(""),l(""),n(""),d(""),m(""),u(""),h(""),y([]),S(""),g(null),j([]),E(null)};return(0,s.jsxs)("div",{className:"container mt-5",children:[s.jsx("h1",{className:"text-center mb-4",children:"Admin Dashboard For Blogs"}),s.jsx("div",{className:"card mx-auto shadow-lg p-4",style:{maxWidth:"600px",borderRadius:"15px"},children:(0,s.jsxs)("form",{onSubmit:C,children:[(0,s.jsxs)("div",{className:"mb-3",children:[s.jsx("label",{className:"form-label",children:"Blog ID:"}),s.jsx("textarea",{className:"form-control",value:e,onChange:e=>a(e.target.value),placeholder:"Enter blog ID",style:{borderRadius:"10px"}})]}),(0,s.jsxs)("div",{className:"mb-3",children:[s.jsx("label",{className:"form-label",children:"Blog Date:"}),s.jsx("textarea",{className:"form-control",value:t,onChange:e=>l(e.target.value),placeholder:"Enter blog date",style:{borderRadius:"10px"}})]}),(0,s.jsxs)("div",{className:"mb-3",children:[s.jsx("label",{className:"form-label",children:"Blog Name:"}),s.jsx("input",{type:"text",className:"form-control",value:i,onChange:e=>n(e.target.value),placeholder:"Enter blog name",style:{borderRadius:"10px"}})]}),(0,s.jsxs)("div",{className:"mb-3",children:[s.jsx("label",{className:"form-label",children:"Blog Description:"}),s.jsx("textarea",{className:"form-control",value:o,onChange:e=>d(e.target.value),placeholder:"Enter blog description",style:{borderRadius:"10px"}})]}),(0,s.jsxs)("div",{className:"mb-3",children:[s.jsx("label",{className:"form-label",children:"Blog Description 2:"}),s.jsx("textarea",{className:"form-control",value:c,onChange:e=>m(e.target.value),placeholder:"Enter blog description 2",style:{borderRadius:"10px"}})]}),(0,s.jsxs)("div",{className:"mb-3",children:[s.jsx("label",{className:"form-label",children:"Blog Category:"}),s.jsx("textarea",{className:"form-control",value:p,onChange:e=>u(e.target.value),placeholder:"Enter blog category",style:{borderRadius:"10px"}})]}),(0,s.jsxs)("div",{className:"mb-3",children:[s.jsx("label",{className:"form-label",children:"Blog Comment:"}),s.jsx("textarea",{className:"form-control",value:x,onChange:e=>h(e.target.value),placeholder:"Enter blog comment",style:{borderRadius:"10px"}})]}),(0,s.jsxs)("div",{className:"mb-3",children:[s.jsx("label",{className:"form-label",children:"Reviews:"}),s.jsx("textarea",{className:"form-control",value:f.join("\n"),onChange:e=>y(e.target.value.split("\n")),placeholder:"Enter reviews, one per line",style:{borderRadius:"10px"}})]}),(0,s.jsxs)("div",{className:"mb-3",children:[s.jsx("label",{className:"form-label",children:"Reviews:"}),s.jsx("ul",{className:"list-group",children:f.map((e,a)=>s.jsx("li",{className:"list-group-item",children:e},a))})]}),(0,s.jsxs)("div",{className:"mb-3",children:[s.jsx("label",{className:"form-label",children:"Single Blog Picture:"}),s.jsx("input",{type:"file",className:"form-control",onChange:e=>g(e.target.files[0]),style:{borderRadius:"10px"}})]}),(0,s.jsxs)("div",{className:"mb-3",children:[s.jsx("label",{className:"form-label",children:"Multiple Blog Pictures:"}),s.jsx("input",{type:"file",className:"form-control",onChange:e=>j(Array.from(e.target.files)),style:{borderRadius:"10px"},multiple:!0})]}),s.jsx("button",{type:"submit",className:"btn btn-primary w-100",style:{borderRadius:"10px",backgroundColor:"#FF6600"},children:null!==_?"Update":"Save"})]})}),(0,s.jsxs)("div",{className:"mt-5",children:[s.jsx("h2",{className:"text-center",children:"Existing Blogs"}),s.jsx("ul",{className:"list-group",children:w.map((e,a)=>(0,s.jsxs)("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:[e.title," - ",e.description,(0,s.jsxs)("div",{children:[s.jsx("button",{className:"btn btn-warning btn-sm me-2",onClick:()=>A(a),children:"Edit"}),s.jsx("button",{className:"btn btn-danger btn-sm",onClick:()=>R(a),children:"Delete"})]})]},a))})]})]})}},604:(e,a,t)=>{"use strict";t.r(a),t.d(a,{$$typeof:()=>i,__esModule:()=>l,default:()=>n});var s=t(8570);let r=(0,s.createProxy)(String.raw`/home/ziad/ASG_Distribution/app/admiiin/page.js`),{__esModule:l,$$typeof:i}=r;r.default;let n=(0,s.createProxy)(String.raw`/home/ziad/ASG_Distribution/app/admiiin/page.js#default`)}};var a=require("../../webpack-runtime.js");a.C(e);var t=e=>a(a.s=e),s=a.X(0,[8948,9965,7910],()=>t(5951));module.exports=s})();