"use strict";(()=>{var e={};e.id=4075,e.ids=[4075],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},1017:e=>{e.exports=require("path")},509:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>S,patchFetch:()=>E,requestAsyncStorage:()=>j,routeModule:()=>f,serverHooks:()=>m,staticGenerationAsyncStorage:()=>y});var s={};t.r(s),t.d(s,{DELETE:()=>w,POST:()=>g,PUT:()=>h});var a=t(9303),o=t(8716),n=t(3131);let i=require("fs/promises");var u=t.n(i),c=t(1017),l=t.n(c),p=t(7070);let d=l().join(process.cwd(),"public","services.json");async function v(){try{let e=await u().readFile(d,"utf8");return JSON.parse(e)}catch(e){throw console.error("Error reading services.json:",e),Error("Failed to read data")}}async function x(e){try{await u().writeFile(d,JSON.stringify(e,null,2),"utf8"),console.log("Data successfully written to services.json")}catch(e){throw console.error("Error writing to services.json:",e),Error("Failed to save data")}}async function g(e){try{let r=await e.json(),t=await v();return t.push(r),await x(t),p.NextResponse.json({message:"Service data saved successfully!"})}catch(e){return console.error("Error processing POST request:",e),p.NextResponse.json({error:"Failed to save data"},{status:500})}}async function h(e){try{let r=await e.json(),{searchParams:t}=new URL(e.url),s=parseInt(t.get("index"),10),a=await v();if(s>=0&&s<a.length)return a[s]=r,await x(a),p.NextResponse.json({message:"Service data updated successfully!"});return p.NextResponse.json({error:"Invalid index"},{status:400})}catch(e){return console.error("Error processing PUT request:",e),p.NextResponse.json({error:"Failed to update data"},{status:500})}}async function w(e){try{let{searchParams:r}=new URL(e.url),t=parseInt(r.get("index"),10),s=await v();if(t>=0&&t<s.length)return s.splice(t,1),await x(s),p.NextResponse.json({message:"Service data deleted successfully!"});return p.NextResponse.json({error:"Invalid index"},{status:400})}catch(e){return console.error("Error processing DELETE request:",e),p.NextResponse.json({error:"Failed to delete data"},{status:500})}}let f=new a.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/saveServerData/route",pathname:"/api/saveServerData",filename:"route",bundlePath:"app/api/saveServerData/route"},resolvedPagePath:"/home/ziad/ASG_Distribution/app/api/saveServerData/route.js",nextConfigOutput:"",userland:s}),{requestAsyncStorage:j,staticGenerationAsyncStorage:y,serverHooks:m}=f,S="/api/saveServerData/route";function E(){return(0,n.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:y})}}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[8948,5972],()=>t(509));module.exports=s})();