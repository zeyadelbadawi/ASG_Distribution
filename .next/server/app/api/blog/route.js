"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/blog/route";
exports.ids = ["app/api/blog/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fblog%2Froute&page=%2Fapi%2Fblog%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fblog%2Froute.js&appDir=D%3A%5Clockdown%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5Clockdown&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fblog%2Froute&page=%2Fapi%2Fblog%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fblog%2Froute.js&appDir=D%3A%5Clockdown%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5Clockdown&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var D_lockdown_app_api_blog_route_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/blog/route.js */ \"(rsc)/./app/api/blog/route.js\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/blog/route\",\n        pathname: \"/api/blog\",\n        filename: \"route\",\n        bundlePath: \"app/api/blog/route\"\n    },\n    resolvedPagePath: \"D:\\\\lockdown\\\\app\\\\api\\\\blog\\\\route.js\",\n    nextConfigOutput,\n    userland: D_lockdown_app_api_blog_route_js__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/blog/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZibG9nJTJGcm91dGUmcGFnZT0lMkZhcGklMkZibG9nJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGYmxvZyUyRnJvdXRlLmpzJmFwcERpcj1EJTNBJTVDbG9ja2Rvd24lNUNhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPUQlM0ElNUNsb2NrZG93biZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDVjtBQUNuRTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL3N0YXJ0LWFwcC1kaXIvPzhlZWIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiRDpcXFxcbG9ja2Rvd25cXFxcYXBwXFxcXGFwaVxcXFxibG9nXFxcXHJvdXRlLmpzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9ibG9nL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvYmxvZ1wiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvYmxvZy9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIkQ6XFxcXGxvY2tkb3duXFxcXGFwcFxcXFxhcGlcXFxcYmxvZ1xcXFxyb3V0ZS5qc1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvYmxvZy9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fblog%2Froute&page=%2Fapi%2Fblog%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fblog%2Froute.js&appDir=D%3A%5Clockdown%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5Clockdown&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/blog/route.js":
/*!*******************************!*\
  !*** ./app/api/blog/route.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DELETE: () => (/* binding */ DELETE),\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST),\n/* harmony export */   PUT: () => (/* binding */ PUT)\n/* harmony export */ });\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst storageDir = path__WEBPACK_IMPORTED_MODULE_1___default().join(process.cwd(), \"storage\"); // Directory for storing JSON file\nconst filePath = path__WEBPACK_IMPORTED_MODULE_1___default().join(storageDir, \"blog.json\"); // Path to the blog.json file\nconst imageStorageDir = path__WEBPACK_IMPORTED_MODULE_1___default().join(process.cwd(), \"public/assets/images/blog\"); // Adjusted path for image storage\n// Ensure the storage directory and blog.json file exist\nif (!fs__WEBPACK_IMPORTED_MODULE_0___default().existsSync(storageDir)) {\n    fs__WEBPACK_IMPORTED_MODULE_0___default().mkdirSync(storageDir, {\n        recursive: true\n    });\n    console.log(\"Created storage directory:\", storageDir);\n}\nif (!fs__WEBPACK_IMPORTED_MODULE_0___default().existsSync(filePath)) {\n    fs__WEBPACK_IMPORTED_MODULE_0___default().writeFileSync(filePath, \"[]\", \"utf-8\"); // Initialize blog.json with an empty array\n    console.log(\"Created blog.json file with an empty array.\");\n}\n// API handler functions\nasync function POST(req) {\n    try {\n        // Get form data\n        const formData = await req.formData();\n        let { id, date, title, category, comments, description, description2, reviews } = Object.fromEntries(formData.entries());\n        // Handle single image upload\n        const image = formData.get(\"image\");\n        let imageUrl = \"\"; // Initialize with an empty string\n        if (image && image.size > 0) {\n            try {\n                if (!fs__WEBPACK_IMPORTED_MODULE_0___default().existsSync(imageStorageDir)) {\n                    fs__WEBPACK_IMPORTED_MODULE_0___default().mkdirSync(imageStorageDir, {\n                        recursive: true\n                    });\n                    console.log(\"Created image storage directory:\", imageStorageDir);\n                }\n                const imagePath = path__WEBPACK_IMPORTED_MODULE_1___default().join(imageStorageDir, image.name);\n                const arrayBuffer = await image.arrayBuffer();\n                await fs__WEBPACK_IMPORTED_MODULE_0___default().promises.writeFile(imagePath, Buffer.from(arrayBuffer));\n                // Update imageUrl to include the relative path\n                imageUrl = `/assets/images/blog/${image.name}`;\n                console.log(\"Image uploaded successfully. Updated imageUrl:\", imageUrl);\n            } catch (imageError) {\n                console.error(\"Error uploading image:\", imageError);\n                throw new Error(\"Failed to upload image.\");\n            }\n        } else {\n            console.log(\"No image provided or image size is zero.\");\n        }\n        // Handle multiple image uploads\n        let multiImageUrls = [];\n        for (let entry of formData.entries()){\n            if (entry[0].startsWith(\"multiImage\")) {\n                const multiImage = entry[1];\n                if (multiImage && multiImage.size > 0) {\n                    try {\n                        const multiImagePath = path__WEBPACK_IMPORTED_MODULE_1___default().join(imageStorageDir, multiImage.name);\n                        const arrayBuffer = await multiImage.arrayBuffer();\n                        await fs__WEBPACK_IMPORTED_MODULE_0___default().promises.writeFile(multiImagePath, Buffer.from(arrayBuffer));\n                        // Store the image URL in the array\n                        multiImageUrls.push(`/assets/images/blog/${multiImage.name}`);\n                    } catch (multiImageError) {\n                        console.error(\"Error uploading multiple images:\", multiImageError);\n                        throw new Error(\"Failed to upload multiple images.\");\n                    }\n                }\n            }\n        }\n        reviews = reviews ? reviews.split(\",\") : []; // Convert reviews string into an array\n        // Construct the blog data object\n        const blog = {\n            id,\n            date,\n            title,\n            description,\n            description2,\n            category,\n            comments,\n            reviews,\n            imageUrl,\n            multiImageUrls\n        };\n        console.log(\"Constructed blog object:\", blog);\n        // Read existing blog data\n        let blogs = [];\n        if (fs__WEBPACK_IMPORTED_MODULE_0___default().existsSync(filePath)) {\n            try {\n                const fileData = fs__WEBPACK_IMPORTED_MODULE_0___default().readFileSync(filePath, \"utf-8\");\n                blogs = JSON.parse(fileData);\n            } catch (jsonError) {\n                console.error(\"Error parsing existing blog data:\", jsonError);\n                throw new Error(\"Invalid JSON format in blog.json file.\");\n            }\n        }\n        // Add the new blog data to the list\n        blogs.push(blog);\n        // Write updated blog data to the file\n        fs__WEBPACK_IMPORTED_MODULE_0___default().writeFileSync(filePath, JSON.stringify(blogs, null, 2));\n        console.log(\"Blog data saved successfully. Final imageUrl:\", imageUrl);\n        return new Response(JSON.stringify({\n            message: \"Data saved successfully!\"\n        }), {\n            status: 200,\n            headers: {\n                \"Content-Type\": \"application/json\"\n            }\n        });\n    } catch (error) {\n        console.error(\"Error in POST method:\", error);\n        return new Response(JSON.stringify({\n            message: `Error saving server data: ${error.message}`\n        }), {\n            status: 500,\n            headers: {\n                \"Content-Type\": \"application/json\"\n            }\n        });\n    }\n}\nasync function PUT(req) {\n    try {\n        const index = parseInt(new URL(req.url).searchParams.get(\"index\"));\n        const formData = await req.formData();\n        // Read existing blog data\n        let blogs = [];\n        if (fs__WEBPACK_IMPORTED_MODULE_0___default().existsSync(filePath)) {\n            const fileData = fs__WEBPACK_IMPORTED_MODULE_0___default().readFileSync(filePath, \"utf-8\");\n            blogs = JSON.parse(fileData);\n        }\n        // Get the existing data at the specified index\n        const existingData = blogs[index];\n        const id = formData.get(\"id\") || existingData.id;\n        const date = formData.get(\"date\") || existingData.date;\n        const title = formData.get(\"title\") || existingData.title;\n        const description = formData.get(\"description\") || existingData.description;\n        const description2 = formData.get(\"description2\") || existingData.description2; // New field\n        const category = formData.get(\"category\") || existingData.category;\n        const comments = formData.get(\"comments\") || existingData.comments;\n        const reviews = formData.get(\"reviews\") || existingData.reviews; // New field\n        let imageUrl = existingData.imageUrl;\n        let multiImageUrls = existingData.multiImageUrls || []; // Initialize for multiple images\n        // Handle single image upload (only update if a new image is provided)\n        const image = formData.get(\"image\");\n        if (image && image.size > 0) {\n            try {\n                const imagePath = path__WEBPACK_IMPORTED_MODULE_1___default().join(imageStorageDir, image.name);\n                const arrayBuffer = await image.arrayBuffer();\n                await fs__WEBPACK_IMPORTED_MODULE_0___default().promises.writeFile(imagePath, Buffer.from(arrayBuffer));\n                imageUrl = `/assets/images/blog/${image.name}`;\n            } catch (imageError) {\n                console.error(\"Error uploading image:\", imageError);\n                throw new Error(\"Failed to upload image.\");\n            }\n        }\n        // Handle multiple image uploads (only update if new images are provided)\n        multiImageUrls = [];\n        for (let entry of formData.entries()){\n            if (entry[0].startsWith(\"multiImage\")) {\n                const multiImage = entry[1];\n                if (multiImage && multiImage.size > 0) {\n                    try {\n                        const multiImagePath = path__WEBPACK_IMPORTED_MODULE_1___default().join(imageStorageDir, multiImage.name);\n                        const arrayBuffer = await multiImage.arrayBuffer();\n                        await fs__WEBPACK_IMPORTED_MODULE_0___default().promises.writeFile(multiImagePath, Buffer.from(arrayBuffer));\n                        multiImageUrls.push(`/assets/images/blog/${multiImage.name}`);\n                    } catch (multiImageError) {\n                        console.error(\"Error uploading multiple images:\", multiImageError);\n                        throw new Error(\"Failed to upload multiple images.\");\n                    }\n                }\n            }\n        }\n        const updatedReviews = formData.get(\"reviews\") ? formData.get(\"reviews\").split(\",\") : existingData.reviews; // Convert reviews string into an array\n        // Construct the updated blog data object\n        const blog = {\n            id,\n            date,\n            title,\n            description,\n            description2,\n            category,\n            comments,\n            reviews: updatedReviews,\n            imageUrl,\n            multiImageUrls\n        };\n        // Update the blog data at the specified index\n        blogs[index] = blog;\n        // Write updated blog data to the file\n        fs__WEBPACK_IMPORTED_MODULE_0___default().writeFileSync(filePath, JSON.stringify(blogs, null, 2));\n        console.log(\"Blog data updated successfully.\");\n        return new Response(JSON.stringify({\n            message: \"Data updated successfully!\"\n        }), {\n            status: 200,\n            headers: {\n                \"Content-Type\": \"application/json\"\n            }\n        });\n    } catch (error) {\n        console.error(\"Error in PUT method:\", error);\n        return new Response(JSON.stringify({\n            message: `Error updating server data: ${error.message}`\n        }), {\n            status: 500,\n            headers: {\n                \"Content-Type\": \"application/json\"\n            }\n        });\n    }\n}\nasync function DELETE(req) {\n    try {\n        const index = parseInt(new URL(req.url).searchParams.get(\"index\"));\n        // Read existing blog data\n        let blogs = [];\n        if (fs__WEBPACK_IMPORTED_MODULE_0___default().existsSync(filePath)) {\n            const fileData = fs__WEBPACK_IMPORTED_MODULE_0___default().readFileSync(filePath, \"utf-8\");\n            blogs = JSON.parse(fileData);\n        }\n        // Remove the blog data at the specified index\n        blogs.splice(index, 1);\n        // Write updated blog data to the file\n        fs__WEBPACK_IMPORTED_MODULE_0___default().writeFileSync(filePath, JSON.stringify(blogs, null, 2));\n        console.log(\"Blog data deleted successfully.\");\n        return new Response(JSON.stringify({\n            message: \"Data deleted successfully!\"\n        }), {\n            status: 200,\n            headers: {\n                \"Content-Type\": \"application/json\"\n            }\n        });\n    } catch (error) {\n        console.error(\"Error in DELETE method:\", error);\n        return new Response(JSON.stringify({\n            message: `Error deleting server data: ${error.message}`\n        }), {\n            status: 500,\n            headers: {\n                \"Content-Type\": \"application/json\"\n            }\n        });\n    }\n}\nasync function GET() {\n    try {\n        if (fs__WEBPACK_IMPORTED_MODULE_0___default().existsSync(filePath)) {\n            const fileData = fs__WEBPACK_IMPORTED_MODULE_0___default().readFileSync(filePath, \"utf-8\");\n            const blogs = JSON.parse(fileData);\n            return new Response(JSON.stringify(blogs), {\n                status: 200,\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                }\n            });\n        } else {\n            return new Response(JSON.stringify([]), {\n                status: 200,\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                }\n            });\n        }\n    } catch (error) {\n        console.error(\"Error in GET method:\", error);\n        return new Response(JSON.stringify({\n            message: \"Error fetching server data.\"\n        }), {\n            status: 500,\n            headers: {\n                \"Content-Type\": \"application/json\"\n            }\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2Jsb2cvcm91dGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBb0I7QUFDSTtBQUV4QixNQUFNRSxhQUFhRCxnREFBUyxDQUFDRyxRQUFRQyxHQUFHLElBQUksWUFBWSxrQ0FBa0M7QUFDMUYsTUFBTUMsV0FBV0wsZ0RBQVMsQ0FBQ0MsWUFBWSxjQUFjLDZCQUE2QjtBQUNsRixNQUFNSyxrQkFBa0JOLGdEQUFTLENBQUNHLFFBQVFDLEdBQUcsSUFBSSw4QkFBOEIsa0NBQWtDO0FBRWpILHdEQUF3RDtBQUN4RCxJQUFJLENBQUNMLG9EQUFhLENBQUNFLGFBQWE7SUFDNUJGLG1EQUFZLENBQUNFLFlBQVk7UUFBRVEsV0FBVztJQUFLO0lBQzNDQyxRQUFRQyxHQUFHLENBQUMsOEJBQThCVjtBQUM5QztBQUVBLElBQUksQ0FBQ0Ysb0RBQWEsQ0FBQ00sV0FBVztJQUMxQk4sdURBQWdCLENBQUNNLFVBQVUsTUFBTSxVQUFVLDJDQUEyQztJQUN0RkssUUFBUUMsR0FBRyxDQUFDO0FBQ2hCO0FBRUEsd0JBQXdCO0FBQ2pCLGVBQWVFLEtBQUtDLEdBQUc7SUFDNUIsSUFBSTtRQUNGLGdCQUFnQjtRQUNoQixNQUFNQyxXQUFXLE1BQU1ELElBQUlDLFFBQVE7UUFDbkMsSUFBSSxFQUFFQyxFQUFFLEVBQUVDLElBQUksRUFBRUMsS0FBSyxFQUFFQyxRQUFRLEVBQUVDLFFBQVEsRUFBRUMsV0FBVyxFQUFFQyxZQUFZLEVBQUVDLE9BQU8sRUFBRSxHQUFHQyxPQUFPQyxXQUFXLENBQUNWLFNBQVNXLE9BQU87UUFFckgsNkJBQTZCO1FBQzdCLE1BQU1DLFFBQVFaLFNBQVNhLEdBQUcsQ0FBQztRQUMzQixJQUFJQyxXQUFXLElBQUksa0NBQWtDO1FBRXJELElBQUlGLFNBQVNBLE1BQU1HLElBQUksR0FBRyxHQUFHO1lBQzNCLElBQUk7Z0JBQ0YsSUFBSSxDQUFDL0Isb0RBQWEsQ0FBQ08sa0JBQWtCO29CQUNuQ1AsbURBQVksQ0FBQ08saUJBQWlCO3dCQUFFRyxXQUFXO29CQUFLO29CQUNoREMsUUFBUUMsR0FBRyxDQUFDLG9DQUFvQ0w7Z0JBQ2xEO2dCQUVBLE1BQU15QixZQUFZL0IsZ0RBQVMsQ0FBQ00saUJBQWlCcUIsTUFBTUssSUFBSTtnQkFDdkQsTUFBTUMsY0FBYyxNQUFNTixNQUFNTSxXQUFXO2dCQUMzQyxNQUFNbEMsa0RBQVcsQ0FBQ29DLFNBQVMsQ0FBQ0osV0FBV0ssT0FBT0MsSUFBSSxDQUFDSjtnQkFFbkQsK0NBQStDO2dCQUMvQ0osV0FBVyxDQUFDLG9CQUFvQixFQUFFRixNQUFNSyxJQUFJLENBQUMsQ0FBQztnQkFDOUN0QixRQUFRQyxHQUFHLENBQUMsa0RBQWtEa0I7WUFDaEUsRUFBRSxPQUFPUyxZQUFZO2dCQUNuQjVCLFFBQVE2QixLQUFLLENBQUMsMEJBQTBCRDtnQkFDeEMsTUFBTSxJQUFJRSxNQUFNO1lBQ2xCO1FBQ0YsT0FBTztZQUNMOUIsUUFBUUMsR0FBRyxDQUFDO1FBQ2Q7UUFFQSxnQ0FBZ0M7UUFDaEMsSUFBSThCLGlCQUFpQixFQUFFO1FBQ3ZCLEtBQUssSUFBSUMsU0FBUzNCLFNBQVNXLE9BQU8sR0FBSTtZQUNwQyxJQUFJZ0IsS0FBSyxDQUFDLEVBQUUsQ0FBQ0MsVUFBVSxDQUFDLGVBQWU7Z0JBQ3JDLE1BQU1DLGFBQWFGLEtBQUssQ0FBQyxFQUFFO2dCQUMzQixJQUFJRSxjQUFjQSxXQUFXZCxJQUFJLEdBQUcsR0FBRztvQkFDckMsSUFBSTt3QkFDRixNQUFNZSxpQkFBaUI3QyxnREFBUyxDQUFDTSxpQkFBaUJzQyxXQUFXWixJQUFJO3dCQUNqRSxNQUFNQyxjQUFjLE1BQU1XLFdBQVdYLFdBQVc7d0JBQ2hELE1BQU1sQyxrREFBVyxDQUFDb0MsU0FBUyxDQUFDVSxnQkFBZ0JULE9BQU9DLElBQUksQ0FBQ0o7d0JBRXhELG1DQUFtQzt3QkFDbkNRLGVBQWVLLElBQUksQ0FBQyxDQUFDLG9CQUFvQixFQUFFRixXQUFXWixJQUFJLENBQUMsQ0FBQztvQkFDOUQsRUFBRSxPQUFPZSxpQkFBaUI7d0JBQ3hCckMsUUFBUTZCLEtBQUssQ0FBQyxvQ0FBb0NRO3dCQUNsRCxNQUFNLElBQUlQLE1BQU07b0JBQ2xCO2dCQUNGO1lBQ0Y7UUFDRjtRQUVBakIsVUFBVUEsVUFBVUEsUUFBUXlCLEtBQUssQ0FBQyxPQUFPLEVBQUUsRUFBRSx1Q0FBdUM7UUFFcEYsaUNBQWlDO1FBQ2pDLE1BQU1DLE9BQU87WUFDWGpDO1lBQ0FDO1lBQ0FDO1lBQ0FHO1lBQ0FDO1lBQ0FIO1lBQ0FDO1lBQ0FHO1lBQ0FNO1lBQ0FZO1FBQ0Y7UUFFQS9CLFFBQVFDLEdBQUcsQ0FBQyw0QkFBNEJzQztRQUV4QywwQkFBMEI7UUFDMUIsSUFBSUMsUUFBUSxFQUFFO1FBQ2QsSUFBSW5ELG9EQUFhLENBQUNNLFdBQVc7WUFDM0IsSUFBSTtnQkFDRixNQUFNOEMsV0FBV3BELHNEQUFlLENBQUNNLFVBQVU7Z0JBQzNDNkMsUUFBUUcsS0FBS0MsS0FBSyxDQUFDSDtZQUNyQixFQUFFLE9BQU9JLFdBQVc7Z0JBQ2xCN0MsUUFBUTZCLEtBQUssQ0FBQyxxQ0FBcUNnQjtnQkFDbkQsTUFBTSxJQUFJZixNQUFNO1lBQ2xCO1FBQ0Y7UUFFQSxvQ0FBb0M7UUFDcENVLE1BQU1KLElBQUksQ0FBQ0c7UUFFWCxzQ0FBc0M7UUFDdENsRCx1REFBZ0IsQ0FBQ00sVUFBVWdELEtBQUtHLFNBQVMsQ0FBQ04sT0FBTyxNQUFNO1FBQ3ZEeEMsUUFBUUMsR0FBRyxDQUFDLGlEQUFpRGtCO1FBRTdELE9BQU8sSUFBSTRCLFNBQVNKLEtBQUtHLFNBQVMsQ0FBQztZQUFFRSxTQUFTO1FBQTJCLElBQUk7WUFDM0VDLFFBQVE7WUFDUkMsU0FBUztnQkFDUCxnQkFBZ0I7WUFDbEI7UUFDRjtJQUNGLEVBQUUsT0FBT3JCLE9BQU87UUFDZDdCLFFBQVE2QixLQUFLLENBQUMseUJBQXlCQTtRQUN2QyxPQUFPLElBQUlrQixTQUFTSixLQUFLRyxTQUFTLENBQUM7WUFBRUUsU0FBUyxDQUFDLDBCQUEwQixFQUFFbkIsTUFBTW1CLE9BQU8sQ0FBQyxDQUFDO1FBQUMsSUFBSTtZQUM3RkMsUUFBUTtZQUNSQyxTQUFTO2dCQUNQLGdCQUFnQjtZQUNsQjtRQUNGO0lBQ0Y7QUFDRjtBQUVPLGVBQWVDLElBQUkvQyxHQUFHO0lBQzNCLElBQUk7UUFDRixNQUFNZ0QsUUFBUUMsU0FBUyxJQUFJQyxJQUFJbEQsSUFBSW1ELEdBQUcsRUFBRUMsWUFBWSxDQUFDdEMsR0FBRyxDQUFDO1FBQ3pELE1BQU1iLFdBQVcsTUFBTUQsSUFBSUMsUUFBUTtRQUVuQywwQkFBMEI7UUFDMUIsSUFBSW1DLFFBQVEsRUFBRTtRQUNkLElBQUluRCxvREFBYSxDQUFDTSxXQUFXO1lBQzNCLE1BQU04QyxXQUFXcEQsc0RBQWUsQ0FBQ00sVUFBVTtZQUMzQzZDLFFBQVFHLEtBQUtDLEtBQUssQ0FBQ0g7UUFDckI7UUFFQSwrQ0FBK0M7UUFDL0MsTUFBTWdCLGVBQWVqQixLQUFLLENBQUNZLE1BQU07UUFDakMsTUFBTTlDLEtBQUtELFNBQVNhLEdBQUcsQ0FBQyxTQUFTdUMsYUFBYW5ELEVBQUU7UUFDaEQsTUFBTUMsT0FBT0YsU0FBU2EsR0FBRyxDQUFDLFdBQVd1QyxhQUFhbEQsSUFBSTtRQUN0RCxNQUFNQyxRQUFRSCxTQUFTYSxHQUFHLENBQUMsWUFBWXVDLGFBQWFqRCxLQUFLO1FBQ3pELE1BQU1HLGNBQWNOLFNBQVNhLEdBQUcsQ0FBQyxrQkFBa0J1QyxhQUFhOUMsV0FBVztRQUMzRSxNQUFNQyxlQUFlUCxTQUFTYSxHQUFHLENBQUMsbUJBQW1CdUMsYUFBYTdDLFlBQVksRUFBRSxZQUFZO1FBQzVGLE1BQU1ILFdBQVdKLFNBQVNhLEdBQUcsQ0FBQyxlQUFldUMsYUFBYWhELFFBQVE7UUFDbEUsTUFBTUMsV0FBV0wsU0FBU2EsR0FBRyxDQUFDLGVBQWV1QyxhQUFhL0MsUUFBUTtRQUNsRSxNQUFNRyxVQUFVUixTQUFTYSxHQUFHLENBQUMsY0FBY3VDLGFBQWE1QyxPQUFPLEVBQUUsWUFBWTtRQUM3RSxJQUFJTSxXQUFXc0MsYUFBYXRDLFFBQVE7UUFDcEMsSUFBSVksaUJBQWlCMEIsYUFBYTFCLGNBQWMsSUFBSSxFQUFFLEVBQUUsaUNBQWlDO1FBRXpGLHNFQUFzRTtRQUN0RSxNQUFNZCxRQUFRWixTQUFTYSxHQUFHLENBQUM7UUFDM0IsSUFBSUQsU0FBU0EsTUFBTUcsSUFBSSxHQUFHLEdBQUc7WUFDM0IsSUFBSTtnQkFDRixNQUFNQyxZQUFZL0IsZ0RBQVMsQ0FBQ00saUJBQWlCcUIsTUFBTUssSUFBSTtnQkFDdkQsTUFBTUMsY0FBYyxNQUFNTixNQUFNTSxXQUFXO2dCQUMzQyxNQUFNbEMsa0RBQVcsQ0FBQ29DLFNBQVMsQ0FBQ0osV0FBV0ssT0FBT0MsSUFBSSxDQUFDSjtnQkFDbkRKLFdBQVcsQ0FBQyxvQkFBb0IsRUFBRUYsTUFBTUssSUFBSSxDQUFDLENBQUM7WUFDaEQsRUFBRSxPQUFPTSxZQUFZO2dCQUNuQjVCLFFBQVE2QixLQUFLLENBQUMsMEJBQTBCRDtnQkFDeEMsTUFBTSxJQUFJRSxNQUFNO1lBQ2xCO1FBQ0Y7UUFFQSx5RUFBeUU7UUFDekVDLGlCQUFpQixFQUFFO1FBQ25CLEtBQUssSUFBSUMsU0FBUzNCLFNBQVNXLE9BQU8sR0FBSTtZQUNwQyxJQUFJZ0IsS0FBSyxDQUFDLEVBQUUsQ0FBQ0MsVUFBVSxDQUFDLGVBQWU7Z0JBQ3JDLE1BQU1DLGFBQWFGLEtBQUssQ0FBQyxFQUFFO2dCQUMzQixJQUFJRSxjQUFjQSxXQUFXZCxJQUFJLEdBQUcsR0FBRztvQkFDckMsSUFBSTt3QkFDRixNQUFNZSxpQkFBaUI3QyxnREFBUyxDQUFDTSxpQkFBaUJzQyxXQUFXWixJQUFJO3dCQUNqRSxNQUFNQyxjQUFjLE1BQU1XLFdBQVdYLFdBQVc7d0JBQ2hELE1BQU1sQyxrREFBVyxDQUFDb0MsU0FBUyxDQUFDVSxnQkFBZ0JULE9BQU9DLElBQUksQ0FBQ0o7d0JBQ3hEUSxlQUFlSyxJQUFJLENBQUMsQ0FBQyxvQkFBb0IsRUFBRUYsV0FBV1osSUFBSSxDQUFDLENBQUM7b0JBQzlELEVBQUUsT0FBT2UsaUJBQWlCO3dCQUN4QnJDLFFBQVE2QixLQUFLLENBQUMsb0NBQW9DUTt3QkFDbEQsTUFBTSxJQUFJUCxNQUFNO29CQUNsQjtnQkFDRjtZQUNGO1FBQ0Y7UUFFQSxNQUFNNEIsaUJBQWlCckQsU0FBU2EsR0FBRyxDQUFDLGFBQWFiLFNBQVNhLEdBQUcsQ0FBQyxXQUFXb0IsS0FBSyxDQUFDLE9BQU9tQixhQUFhNUMsT0FBTyxFQUFFLHVDQUF1QztRQUVuSix5Q0FBeUM7UUFDekMsTUFBTTBCLE9BQU87WUFDWGpDO1lBQ0FDO1lBQ0FDO1lBQ0FHO1lBQ0FDO1lBQ0FIO1lBQ0FDO1lBQ0FHLFNBQVM2QztZQUNUdkM7WUFDQVk7UUFDRjtRQUVBLDhDQUE4QztRQUM5Q1MsS0FBSyxDQUFDWSxNQUFNLEdBQUdiO1FBRWYsc0NBQXNDO1FBQ3RDbEQsdURBQWdCLENBQUNNLFVBQVVnRCxLQUFLRyxTQUFTLENBQUNOLE9BQU8sTUFBTTtRQUN2RHhDLFFBQVFDLEdBQUcsQ0FBQztRQUVaLE9BQU8sSUFBSThDLFNBQVNKLEtBQUtHLFNBQVMsQ0FBQztZQUFFRSxTQUFTO1FBQTZCLElBQUk7WUFDN0VDLFFBQVE7WUFDUkMsU0FBUztnQkFDUCxnQkFBZ0I7WUFDbEI7UUFDRjtJQUNGLEVBQUUsT0FBT3JCLE9BQU87UUFDZDdCLFFBQVE2QixLQUFLLENBQUMsd0JBQXdCQTtRQUN0QyxPQUFPLElBQUlrQixTQUFTSixLQUFLRyxTQUFTLENBQUM7WUFBRUUsU0FBUyxDQUFDLDRCQUE0QixFQUFFbkIsTUFBTW1CLE9BQU8sQ0FBQyxDQUFDO1FBQUMsSUFBSTtZQUMvRkMsUUFBUTtZQUNSQyxTQUFTO2dCQUNQLGdCQUFnQjtZQUNsQjtRQUNGO0lBQ0Y7QUFDRjtBQUVPLGVBQWVTLE9BQU92RCxHQUFHO0lBQzlCLElBQUk7UUFDRixNQUFNZ0QsUUFBUUMsU0FBUyxJQUFJQyxJQUFJbEQsSUFBSW1ELEdBQUcsRUFBRUMsWUFBWSxDQUFDdEMsR0FBRyxDQUFDO1FBRXpELDBCQUEwQjtRQUMxQixJQUFJc0IsUUFBUSxFQUFFO1FBQ2QsSUFBSW5ELG9EQUFhLENBQUNNLFdBQVc7WUFDM0IsTUFBTThDLFdBQVdwRCxzREFBZSxDQUFDTSxVQUFVO1lBQzNDNkMsUUFBUUcsS0FBS0MsS0FBSyxDQUFDSDtRQUNyQjtRQUVBLDhDQUE4QztRQUM5Q0QsTUFBTW9CLE1BQU0sQ0FBQ1IsT0FBTztRQUVwQixzQ0FBc0M7UUFDdEMvRCx1REFBZ0IsQ0FBQ00sVUFBVWdELEtBQUtHLFNBQVMsQ0FBQ04sT0FBTyxNQUFNO1FBQ3ZEeEMsUUFBUUMsR0FBRyxDQUFDO1FBRVosT0FBTyxJQUFJOEMsU0FBU0osS0FBS0csU0FBUyxDQUFDO1lBQUVFLFNBQVM7UUFBNkIsSUFBSTtZQUM3RUMsUUFBUTtZQUNSQyxTQUFTO2dCQUNQLGdCQUFnQjtZQUNsQjtRQUNGO0lBQ0YsRUFBRSxPQUFPckIsT0FBTztRQUNkN0IsUUFBUTZCLEtBQUssQ0FBQywyQkFBMkJBO1FBQ3pDLE9BQU8sSUFBSWtCLFNBQVNKLEtBQUtHLFNBQVMsQ0FBQztZQUFFRSxTQUFTLENBQUMsNEJBQTRCLEVBQUVuQixNQUFNbUIsT0FBTyxDQUFDLENBQUM7UUFBQyxJQUFJO1lBQy9GQyxRQUFRO1lBQ1JDLFNBQVM7Z0JBQ1AsZ0JBQWdCO1lBQ2xCO1FBQ0Y7SUFDRjtBQUNGO0FBRU8sZUFBZVc7SUFDcEIsSUFBSTtRQUNGLElBQUl4RSxvREFBYSxDQUFDTSxXQUFXO1lBQzNCLE1BQU04QyxXQUFXcEQsc0RBQWUsQ0FBQ00sVUFBVTtZQUMzQyxNQUFNNkMsUUFBUUcsS0FBS0MsS0FBSyxDQUFDSDtZQUV6QixPQUFPLElBQUlNLFNBQVNKLEtBQUtHLFNBQVMsQ0FBQ04sUUFBUTtnQkFDekNTLFFBQVE7Z0JBQ1JDLFNBQVM7b0JBQ1AsZ0JBQWdCO2dCQUNsQjtZQUNGO1FBQ0YsT0FBTztZQUNMLE9BQU8sSUFBSUgsU0FBU0osS0FBS0csU0FBUyxDQUFDLEVBQUUsR0FBRztnQkFDdENHLFFBQVE7Z0JBQ1JDLFNBQVM7b0JBQ1AsZ0JBQWdCO2dCQUNsQjtZQUNGO1FBQ0Y7SUFDRixFQUFFLE9BQU9yQixPQUFPO1FBQ2Q3QixRQUFRNkIsS0FBSyxDQUFDLHdCQUF3QkE7UUFDdEMsT0FBTyxJQUFJa0IsU0FBU0osS0FBS0csU0FBUyxDQUFDO1lBQUVFLFNBQVM7UUFBOEIsSUFBSTtZQUM5RUMsUUFBUTtZQUNSQyxTQUFTO2dCQUNQLGdCQUFnQjtZQUNsQjtRQUNGO0lBQ0Y7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3N0YXJ0LWFwcC1kaXIvLi9hcHAvYXBpL2Jsb2cvcm91dGUuanM/NTkyYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZnMgZnJvbSAnZnMnO1xyXG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJztcclxuXHJcbmNvbnN0IHN0b3JhZ2VEaXIgPSBwYXRoLmpvaW4ocHJvY2Vzcy5jd2QoKSwgJ3N0b3JhZ2UnKTsgLy8gRGlyZWN0b3J5IGZvciBzdG9yaW5nIEpTT04gZmlsZVxyXG5jb25zdCBmaWxlUGF0aCA9IHBhdGguam9pbihzdG9yYWdlRGlyLCAnYmxvZy5qc29uJyk7IC8vIFBhdGggdG8gdGhlIGJsb2cuanNvbiBmaWxlXHJcbmNvbnN0IGltYWdlU3RvcmFnZURpciA9IHBhdGguam9pbihwcm9jZXNzLmN3ZCgpLCAncHVibGljL2Fzc2V0cy9pbWFnZXMvYmxvZycpOyAvLyBBZGp1c3RlZCBwYXRoIGZvciBpbWFnZSBzdG9yYWdlXHJcblxyXG4vLyBFbnN1cmUgdGhlIHN0b3JhZ2UgZGlyZWN0b3J5IGFuZCBibG9nLmpzb24gZmlsZSBleGlzdFxyXG5pZiAoIWZzLmV4aXN0c1N5bmMoc3RvcmFnZURpcikpIHtcclxuICAgIGZzLm1rZGlyU3luYyhzdG9yYWdlRGlyLCB7IHJlY3Vyc2l2ZTogdHJ1ZSB9KTtcclxuICAgIGNvbnNvbGUubG9nKCdDcmVhdGVkIHN0b3JhZ2UgZGlyZWN0b3J5OicsIHN0b3JhZ2VEaXIpO1xyXG59XHJcblxyXG5pZiAoIWZzLmV4aXN0c1N5bmMoZmlsZVBhdGgpKSB7XHJcbiAgICBmcy53cml0ZUZpbGVTeW5jKGZpbGVQYXRoLCAnW10nLCAndXRmLTgnKTsgLy8gSW5pdGlhbGl6ZSBibG9nLmpzb24gd2l0aCBhbiBlbXB0eSBhcnJheVxyXG4gICAgY29uc29sZS5sb2coJ0NyZWF0ZWQgYmxvZy5qc29uIGZpbGUgd2l0aCBhbiBlbXB0eSBhcnJheS4nKTtcclxufVxyXG5cclxuLy8gQVBJIGhhbmRsZXIgZnVuY3Rpb25zXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcSkge1xyXG4gIHRyeSB7XHJcbiAgICAvLyBHZXQgZm9ybSBkYXRhXHJcbiAgICBjb25zdCBmb3JtRGF0YSA9IGF3YWl0IHJlcS5mb3JtRGF0YSgpO1xyXG4gICAgbGV0IHsgaWQsIGRhdGUsIHRpdGxlLCBjYXRlZ29yeSwgY29tbWVudHMsIGRlc2NyaXB0aW9uLCBkZXNjcmlwdGlvbjIsIHJldmlld3MgfSA9IE9iamVjdC5mcm9tRW50cmllcyhmb3JtRGF0YS5lbnRyaWVzKCkpO1xyXG5cclxuICAgIC8vIEhhbmRsZSBzaW5nbGUgaW1hZ2UgdXBsb2FkXHJcbiAgICBjb25zdCBpbWFnZSA9IGZvcm1EYXRhLmdldCgnaW1hZ2UnKTtcclxuICAgIGxldCBpbWFnZVVybCA9ICcnOyAvLyBJbml0aWFsaXplIHdpdGggYW4gZW1wdHkgc3RyaW5nXHJcblxyXG4gICAgaWYgKGltYWdlICYmIGltYWdlLnNpemUgPiAwKSB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgaWYgKCFmcy5leGlzdHNTeW5jKGltYWdlU3RvcmFnZURpcikpIHtcclxuICAgICAgICAgIGZzLm1rZGlyU3luYyhpbWFnZVN0b3JhZ2VEaXIsIHsgcmVjdXJzaXZlOiB0cnVlIH0pO1xyXG4gICAgICAgICAgY29uc29sZS5sb2coJ0NyZWF0ZWQgaW1hZ2Ugc3RvcmFnZSBkaXJlY3Rvcnk6JywgaW1hZ2VTdG9yYWdlRGlyKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGltYWdlUGF0aCA9IHBhdGguam9pbihpbWFnZVN0b3JhZ2VEaXIsIGltYWdlLm5hbWUpO1xyXG4gICAgICAgIGNvbnN0IGFycmF5QnVmZmVyID0gYXdhaXQgaW1hZ2UuYXJyYXlCdWZmZXIoKTtcclxuICAgICAgICBhd2FpdCBmcy5wcm9taXNlcy53cml0ZUZpbGUoaW1hZ2VQYXRoLCBCdWZmZXIuZnJvbShhcnJheUJ1ZmZlcikpO1xyXG5cclxuICAgICAgICAvLyBVcGRhdGUgaW1hZ2VVcmwgdG8gaW5jbHVkZSB0aGUgcmVsYXRpdmUgcGF0aFxyXG4gICAgICAgIGltYWdlVXJsID0gYC9hc3NldHMvaW1hZ2VzL2Jsb2cvJHtpbWFnZS5uYW1lfWA7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ0ltYWdlIHVwbG9hZGVkIHN1Y2Nlc3NmdWxseS4gVXBkYXRlZCBpbWFnZVVybDonLCBpbWFnZVVybCk7XHJcbiAgICAgIH0gY2F0Y2ggKGltYWdlRXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB1cGxvYWRpbmcgaW1hZ2U6JywgaW1hZ2VFcnJvcik7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gdXBsb2FkIGltYWdlLicpO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zb2xlLmxvZygnTm8gaW1hZ2UgcHJvdmlkZWQgb3IgaW1hZ2Ugc2l6ZSBpcyB6ZXJvLicpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEhhbmRsZSBtdWx0aXBsZSBpbWFnZSB1cGxvYWRzXHJcbiAgICBsZXQgbXVsdGlJbWFnZVVybHMgPSBbXTtcclxuICAgIGZvciAobGV0IGVudHJ5IG9mIGZvcm1EYXRhLmVudHJpZXMoKSkge1xyXG4gICAgICBpZiAoZW50cnlbMF0uc3RhcnRzV2l0aCgnbXVsdGlJbWFnZScpKSB7XHJcbiAgICAgICAgY29uc3QgbXVsdGlJbWFnZSA9IGVudHJ5WzFdO1xyXG4gICAgICAgIGlmIChtdWx0aUltYWdlICYmIG11bHRpSW1hZ2Uuc2l6ZSA+IDApIHtcclxuICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG11bHRpSW1hZ2VQYXRoID0gcGF0aC5qb2luKGltYWdlU3RvcmFnZURpciwgbXVsdGlJbWFnZS5uYW1lKTtcclxuICAgICAgICAgICAgY29uc3QgYXJyYXlCdWZmZXIgPSBhd2FpdCBtdWx0aUltYWdlLmFycmF5QnVmZmVyKCk7XHJcbiAgICAgICAgICAgIGF3YWl0IGZzLnByb21pc2VzLndyaXRlRmlsZShtdWx0aUltYWdlUGF0aCwgQnVmZmVyLmZyb20oYXJyYXlCdWZmZXIpKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFN0b3JlIHRoZSBpbWFnZSBVUkwgaW4gdGhlIGFycmF5XHJcbiAgICAgICAgICAgIG11bHRpSW1hZ2VVcmxzLnB1c2goYC9hc3NldHMvaW1hZ2VzL2Jsb2cvJHttdWx0aUltYWdlLm5hbWV9YCk7XHJcbiAgICAgICAgICB9IGNhdGNoIChtdWx0aUltYWdlRXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgdXBsb2FkaW5nIG11bHRpcGxlIGltYWdlczonLCBtdWx0aUltYWdlRXJyb3IpO1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byB1cGxvYWQgbXVsdGlwbGUgaW1hZ2VzLicpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldmlld3MgPSByZXZpZXdzID8gcmV2aWV3cy5zcGxpdCgnLCcpIDogW107IC8vIENvbnZlcnQgcmV2aWV3cyBzdHJpbmcgaW50byBhbiBhcnJheVxyXG5cclxuICAgIC8vIENvbnN0cnVjdCB0aGUgYmxvZyBkYXRhIG9iamVjdFxyXG4gICAgY29uc3QgYmxvZyA9IHtcclxuICAgICAgaWQsXHJcbiAgICAgIGRhdGUsXHJcbiAgICAgIHRpdGxlLFxyXG4gICAgICBkZXNjcmlwdGlvbixcclxuICAgICAgZGVzY3JpcHRpb24yLCAvLyBOZXcgZmllbGRcclxuICAgICAgY2F0ZWdvcnksXHJcbiAgICAgIGNvbW1lbnRzLFxyXG4gICAgICByZXZpZXdzLCAvLyBTdG9yZSBhcyBhbiBhcnJheVxyXG4gICAgICBpbWFnZVVybCwgLy8gU2luZ2xlIGltYWdlIFVSTFxyXG4gICAgICBtdWx0aUltYWdlVXJscyAvLyBBcnJheSBvZiBtdWx0aXBsZSBpbWFnZSBVUkxzXHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnNvbGUubG9nKCdDb25zdHJ1Y3RlZCBibG9nIG9iamVjdDonLCBibG9nKTtcclxuXHJcbiAgICAvLyBSZWFkIGV4aXN0aW5nIGJsb2cgZGF0YVxyXG4gICAgbGV0IGJsb2dzID0gW107XHJcbiAgICBpZiAoZnMuZXhpc3RzU3luYyhmaWxlUGF0aCkpIHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBmaWxlRGF0YSA9IGZzLnJlYWRGaWxlU3luYyhmaWxlUGF0aCwgJ3V0Zi04Jyk7XHJcbiAgICAgICAgYmxvZ3MgPSBKU09OLnBhcnNlKGZpbGVEYXRhKTtcclxuICAgICAgfSBjYXRjaCAoanNvbkVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgcGFyc2luZyBleGlzdGluZyBibG9nIGRhdGE6JywganNvbkVycm9yKTtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgSlNPTiBmb3JtYXQgaW4gYmxvZy5qc29uIGZpbGUuJyk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBBZGQgdGhlIG5ldyBibG9nIGRhdGEgdG8gdGhlIGxpc3RcclxuICAgIGJsb2dzLnB1c2goYmxvZyk7XHJcblxyXG4gICAgLy8gV3JpdGUgdXBkYXRlZCBibG9nIGRhdGEgdG8gdGhlIGZpbGVcclxuICAgIGZzLndyaXRlRmlsZVN5bmMoZmlsZVBhdGgsIEpTT04uc3RyaW5naWZ5KGJsb2dzLCBudWxsLCAyKSk7XHJcbiAgICBjb25zb2xlLmxvZygnQmxvZyBkYXRhIHNhdmVkIHN1Y2Nlc3NmdWxseS4gRmluYWwgaW1hZ2VVcmw6JywgaW1hZ2VVcmwpO1xyXG5cclxuICAgIHJldHVybiBuZXcgUmVzcG9uc2UoSlNPTi5zdHJpbmdpZnkoeyBtZXNzYWdlOiAnRGF0YSBzYXZlZCBzdWNjZXNzZnVsbHkhJyB9KSwge1xyXG4gICAgICBzdGF0dXM6IDIwMCxcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgIH0sXHJcbiAgICB9KTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgaW4gUE9TVCBtZXRob2Q6JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIG5ldyBSZXNwb25zZShKU09OLnN0cmluZ2lmeSh7IG1lc3NhZ2U6IGBFcnJvciBzYXZpbmcgc2VydmVyIGRhdGE6ICR7ZXJyb3IubWVzc2FnZX1gIH0pLCB7XHJcbiAgICAgIHN0YXR1czogNTAwLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgICAgfSxcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBVVChyZXEpIHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgaW5kZXggPSBwYXJzZUludChuZXcgVVJMKHJlcS51cmwpLnNlYXJjaFBhcmFtcy5nZXQoJ2luZGV4JykpO1xyXG4gICAgY29uc3QgZm9ybURhdGEgPSBhd2FpdCByZXEuZm9ybURhdGEoKTtcclxuXHJcbiAgICAvLyBSZWFkIGV4aXN0aW5nIGJsb2cgZGF0YVxyXG4gICAgbGV0IGJsb2dzID0gW107XHJcbiAgICBpZiAoZnMuZXhpc3RzU3luYyhmaWxlUGF0aCkpIHtcclxuICAgICAgY29uc3QgZmlsZURhdGEgPSBmcy5yZWFkRmlsZVN5bmMoZmlsZVBhdGgsICd1dGYtOCcpO1xyXG4gICAgICBibG9ncyA9IEpTT04ucGFyc2UoZmlsZURhdGEpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEdldCB0aGUgZXhpc3RpbmcgZGF0YSBhdCB0aGUgc3BlY2lmaWVkIGluZGV4XHJcbiAgICBjb25zdCBleGlzdGluZ0RhdGEgPSBibG9nc1tpbmRleF07XHJcbiAgICBjb25zdCBpZCA9IGZvcm1EYXRhLmdldCgnaWQnKSB8fCBleGlzdGluZ0RhdGEuaWQ7XHJcbiAgICBjb25zdCBkYXRlID0gZm9ybURhdGEuZ2V0KCdkYXRlJykgfHwgZXhpc3RpbmdEYXRhLmRhdGU7XHJcbiAgICBjb25zdCB0aXRsZSA9IGZvcm1EYXRhLmdldCgndGl0bGUnKSB8fCBleGlzdGluZ0RhdGEudGl0bGU7XHJcbiAgICBjb25zdCBkZXNjcmlwdGlvbiA9IGZvcm1EYXRhLmdldCgnZGVzY3JpcHRpb24nKSB8fCBleGlzdGluZ0RhdGEuZGVzY3JpcHRpb247XHJcbiAgICBjb25zdCBkZXNjcmlwdGlvbjIgPSBmb3JtRGF0YS5nZXQoJ2Rlc2NyaXB0aW9uMicpIHx8IGV4aXN0aW5nRGF0YS5kZXNjcmlwdGlvbjI7IC8vIE5ldyBmaWVsZFxyXG4gICAgY29uc3QgY2F0ZWdvcnkgPSBmb3JtRGF0YS5nZXQoJ2NhdGVnb3J5JykgfHwgZXhpc3RpbmdEYXRhLmNhdGVnb3J5O1xyXG4gICAgY29uc3QgY29tbWVudHMgPSBmb3JtRGF0YS5nZXQoJ2NvbW1lbnRzJykgfHwgZXhpc3RpbmdEYXRhLmNvbW1lbnRzO1xyXG4gICAgY29uc3QgcmV2aWV3cyA9IGZvcm1EYXRhLmdldCgncmV2aWV3cycpIHx8IGV4aXN0aW5nRGF0YS5yZXZpZXdzOyAvLyBOZXcgZmllbGRcclxuICAgIGxldCBpbWFnZVVybCA9IGV4aXN0aW5nRGF0YS5pbWFnZVVybDtcclxuICAgIGxldCBtdWx0aUltYWdlVXJscyA9IGV4aXN0aW5nRGF0YS5tdWx0aUltYWdlVXJscyB8fCBbXTsgLy8gSW5pdGlhbGl6ZSBmb3IgbXVsdGlwbGUgaW1hZ2VzXHJcblxyXG4gICAgLy8gSGFuZGxlIHNpbmdsZSBpbWFnZSB1cGxvYWQgKG9ubHkgdXBkYXRlIGlmIGEgbmV3IGltYWdlIGlzIHByb3ZpZGVkKVxyXG4gICAgY29uc3QgaW1hZ2UgPSBmb3JtRGF0YS5nZXQoJ2ltYWdlJyk7XHJcbiAgICBpZiAoaW1hZ2UgJiYgaW1hZ2Uuc2l6ZSA+IDApIHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBpbWFnZVBhdGggPSBwYXRoLmpvaW4oaW1hZ2VTdG9yYWdlRGlyLCBpbWFnZS5uYW1lKTtcclxuICAgICAgICBjb25zdCBhcnJheUJ1ZmZlciA9IGF3YWl0IGltYWdlLmFycmF5QnVmZmVyKCk7XHJcbiAgICAgICAgYXdhaXQgZnMucHJvbWlzZXMud3JpdGVGaWxlKGltYWdlUGF0aCwgQnVmZmVyLmZyb20oYXJyYXlCdWZmZXIpKTtcclxuICAgICAgICBpbWFnZVVybCA9IGAvYXNzZXRzL2ltYWdlcy9ibG9nLyR7aW1hZ2UubmFtZX1gO1xyXG4gICAgICB9IGNhdGNoIChpbWFnZUVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgdXBsb2FkaW5nIGltYWdlOicsIGltYWdlRXJyb3IpO1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIHVwbG9hZCBpbWFnZS4nKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIEhhbmRsZSBtdWx0aXBsZSBpbWFnZSB1cGxvYWRzIChvbmx5IHVwZGF0ZSBpZiBuZXcgaW1hZ2VzIGFyZSBwcm92aWRlZClcclxuICAgIG11bHRpSW1hZ2VVcmxzID0gW107XHJcbiAgICBmb3IgKGxldCBlbnRyeSBvZiBmb3JtRGF0YS5lbnRyaWVzKCkpIHtcclxuICAgICAgaWYgKGVudHJ5WzBdLnN0YXJ0c1dpdGgoJ211bHRpSW1hZ2UnKSkge1xyXG4gICAgICAgIGNvbnN0IG11bHRpSW1hZ2UgPSBlbnRyeVsxXTtcclxuICAgICAgICBpZiAobXVsdGlJbWFnZSAmJiBtdWx0aUltYWdlLnNpemUgPiAwKSB7XHJcbiAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCBtdWx0aUltYWdlUGF0aCA9IHBhdGguam9pbihpbWFnZVN0b3JhZ2VEaXIsIG11bHRpSW1hZ2UubmFtZSk7XHJcbiAgICAgICAgICAgIGNvbnN0IGFycmF5QnVmZmVyID0gYXdhaXQgbXVsdGlJbWFnZS5hcnJheUJ1ZmZlcigpO1xyXG4gICAgICAgICAgICBhd2FpdCBmcy5wcm9taXNlcy53cml0ZUZpbGUobXVsdGlJbWFnZVBhdGgsIEJ1ZmZlci5mcm9tKGFycmF5QnVmZmVyKSk7XHJcbiAgICAgICAgICAgIG11bHRpSW1hZ2VVcmxzLnB1c2goYC9hc3NldHMvaW1hZ2VzL2Jsb2cvJHttdWx0aUltYWdlLm5hbWV9YCk7XHJcbiAgICAgICAgICB9IGNhdGNoIChtdWx0aUltYWdlRXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgdXBsb2FkaW5nIG11bHRpcGxlIGltYWdlczonLCBtdWx0aUltYWdlRXJyb3IpO1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byB1cGxvYWQgbXVsdGlwbGUgaW1hZ2VzLicpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHVwZGF0ZWRSZXZpZXdzID0gZm9ybURhdGEuZ2V0KCdyZXZpZXdzJykgPyBmb3JtRGF0YS5nZXQoJ3Jldmlld3MnKS5zcGxpdCgnLCcpIDogZXhpc3RpbmdEYXRhLnJldmlld3M7IC8vIENvbnZlcnQgcmV2aWV3cyBzdHJpbmcgaW50byBhbiBhcnJheVxyXG5cclxuICAgIC8vIENvbnN0cnVjdCB0aGUgdXBkYXRlZCBibG9nIGRhdGEgb2JqZWN0XHJcbiAgICBjb25zdCBibG9nID0ge1xyXG4gICAgICBpZCxcclxuICAgICAgZGF0ZSxcclxuICAgICAgdGl0bGUsXHJcbiAgICAgIGRlc2NyaXB0aW9uLFxyXG4gICAgICBkZXNjcmlwdGlvbjIsIC8vIE5ldyBmaWVsZFxyXG4gICAgICBjYXRlZ29yeSxcclxuICAgICAgY29tbWVudHMsXHJcbiAgICAgIHJldmlld3M6IHVwZGF0ZWRSZXZpZXdzLCAvLyBVc2UgdGhlIG5ld2x5IHByb2Nlc3NlZCByZXZpZXdzXHJcbiAgICAgIGltYWdlVXJsLFxyXG4gICAgICBtdWx0aUltYWdlVXJscyAvLyBBcnJheSBvZiBtdWx0aXBsZSBpbWFnZSBVUkxzXHJcbiAgICB9O1xyXG5cclxuICAgIC8vIFVwZGF0ZSB0aGUgYmxvZyBkYXRhIGF0IHRoZSBzcGVjaWZpZWQgaW5kZXhcclxuICAgIGJsb2dzW2luZGV4XSA9IGJsb2c7XHJcblxyXG4gICAgLy8gV3JpdGUgdXBkYXRlZCBibG9nIGRhdGEgdG8gdGhlIGZpbGVcclxuICAgIGZzLndyaXRlRmlsZVN5bmMoZmlsZVBhdGgsIEpTT04uc3RyaW5naWZ5KGJsb2dzLCBudWxsLCAyKSk7XHJcbiAgICBjb25zb2xlLmxvZygnQmxvZyBkYXRhIHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5LicpO1xyXG5cclxuICAgIHJldHVybiBuZXcgUmVzcG9uc2UoSlNPTi5zdHJpbmdpZnkoeyBtZXNzYWdlOiAnRGF0YSB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEnIH0pLCB7XHJcbiAgICAgIHN0YXR1czogMjAwLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgICAgfSxcclxuICAgIH0pO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBpbiBQVVQgbWV0aG9kOicsIGVycm9yKTtcclxuICAgIHJldHVybiBuZXcgUmVzcG9uc2UoSlNPTi5zdHJpbmdpZnkoeyBtZXNzYWdlOiBgRXJyb3IgdXBkYXRpbmcgc2VydmVyIGRhdGE6ICR7ZXJyb3IubWVzc2FnZX1gIH0pLCB7XHJcbiAgICAgIHN0YXR1czogNTAwLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgICAgfSxcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIERFTEVURShyZXEpIHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgaW5kZXggPSBwYXJzZUludChuZXcgVVJMKHJlcS51cmwpLnNlYXJjaFBhcmFtcy5nZXQoJ2luZGV4JykpO1xyXG5cclxuICAgIC8vIFJlYWQgZXhpc3RpbmcgYmxvZyBkYXRhXHJcbiAgICBsZXQgYmxvZ3MgPSBbXTtcclxuICAgIGlmIChmcy5leGlzdHNTeW5jKGZpbGVQYXRoKSkge1xyXG4gICAgICBjb25zdCBmaWxlRGF0YSA9IGZzLnJlYWRGaWxlU3luYyhmaWxlUGF0aCwgJ3V0Zi04Jyk7XHJcbiAgICAgIGJsb2dzID0gSlNPTi5wYXJzZShmaWxlRGF0YSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmVtb3ZlIHRoZSBibG9nIGRhdGEgYXQgdGhlIHNwZWNpZmllZCBpbmRleFxyXG4gICAgYmxvZ3Muc3BsaWNlKGluZGV4LCAxKTtcclxuXHJcbiAgICAvLyBXcml0ZSB1cGRhdGVkIGJsb2cgZGF0YSB0byB0aGUgZmlsZVxyXG4gICAgZnMud3JpdGVGaWxlU3luYyhmaWxlUGF0aCwgSlNPTi5zdHJpbmdpZnkoYmxvZ3MsIG51bGwsIDIpKTtcclxuICAgIGNvbnNvbGUubG9nKCdCbG9nIGRhdGEgZGVsZXRlZCBzdWNjZXNzZnVsbHkuJyk7XHJcblxyXG4gICAgcmV0dXJuIG5ldyBSZXNwb25zZShKU09OLnN0cmluZ2lmeSh7IG1lc3NhZ2U6ICdEYXRhIGRlbGV0ZWQgc3VjY2Vzc2Z1bGx5IScgfSksIHtcclxuICAgICAgc3RhdHVzOiAyMDAsXHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICB9LFxyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGluIERFTEVURSBtZXRob2Q6JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIG5ldyBSZXNwb25zZShKU09OLnN0cmluZ2lmeSh7IG1lc3NhZ2U6IGBFcnJvciBkZWxldGluZyBzZXJ2ZXIgZGF0YTogJHtlcnJvci5tZXNzYWdlfWAgfSksIHtcclxuICAgICAgc3RhdHVzOiA1MDAsXHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICB9LFxyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKCkge1xyXG4gIHRyeSB7XHJcbiAgICBpZiAoZnMuZXhpc3RzU3luYyhmaWxlUGF0aCkpIHtcclxuICAgICAgY29uc3QgZmlsZURhdGEgPSBmcy5yZWFkRmlsZVN5bmMoZmlsZVBhdGgsICd1dGYtOCcpO1xyXG4gICAgICBjb25zdCBibG9ncyA9IEpTT04ucGFyc2UoZmlsZURhdGEpO1xyXG5cclxuICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShKU09OLnN0cmluZ2lmeShibG9ncyksIHtcclxuICAgICAgICBzdGF0dXM6IDIwMCxcclxuICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShKU09OLnN0cmluZ2lmeShbXSksIHtcclxuICAgICAgICBzdGF0dXM6IDIwMCxcclxuICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBpbiBHRVQgbWV0aG9kOicsIGVycm9yKTtcclxuICAgIHJldHVybiBuZXcgUmVzcG9uc2UoSlNPTi5zdHJpbmdpZnkoeyBtZXNzYWdlOiAnRXJyb3IgZmV0Y2hpbmcgc2VydmVyIGRhdGEuJyB9KSwge1xyXG4gICAgICBzdGF0dXM6IDUwMCxcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgIH0sXHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbImZzIiwicGF0aCIsInN0b3JhZ2VEaXIiLCJqb2luIiwicHJvY2VzcyIsImN3ZCIsImZpbGVQYXRoIiwiaW1hZ2VTdG9yYWdlRGlyIiwiZXhpc3RzU3luYyIsIm1rZGlyU3luYyIsInJlY3Vyc2l2ZSIsImNvbnNvbGUiLCJsb2ciLCJ3cml0ZUZpbGVTeW5jIiwiUE9TVCIsInJlcSIsImZvcm1EYXRhIiwiaWQiLCJkYXRlIiwidGl0bGUiLCJjYXRlZ29yeSIsImNvbW1lbnRzIiwiZGVzY3JpcHRpb24iLCJkZXNjcmlwdGlvbjIiLCJyZXZpZXdzIiwiT2JqZWN0IiwiZnJvbUVudHJpZXMiLCJlbnRyaWVzIiwiaW1hZ2UiLCJnZXQiLCJpbWFnZVVybCIsInNpemUiLCJpbWFnZVBhdGgiLCJuYW1lIiwiYXJyYXlCdWZmZXIiLCJwcm9taXNlcyIsIndyaXRlRmlsZSIsIkJ1ZmZlciIsImZyb20iLCJpbWFnZUVycm9yIiwiZXJyb3IiLCJFcnJvciIsIm11bHRpSW1hZ2VVcmxzIiwiZW50cnkiLCJzdGFydHNXaXRoIiwibXVsdGlJbWFnZSIsIm11bHRpSW1hZ2VQYXRoIiwicHVzaCIsIm11bHRpSW1hZ2VFcnJvciIsInNwbGl0IiwiYmxvZyIsImJsb2dzIiwiZmlsZURhdGEiLCJyZWFkRmlsZVN5bmMiLCJKU09OIiwicGFyc2UiLCJqc29uRXJyb3IiLCJzdHJpbmdpZnkiLCJSZXNwb25zZSIsIm1lc3NhZ2UiLCJzdGF0dXMiLCJoZWFkZXJzIiwiUFVUIiwiaW5kZXgiLCJwYXJzZUludCIsIlVSTCIsInVybCIsInNlYXJjaFBhcmFtcyIsImV4aXN0aW5nRGF0YSIsInVwZGF0ZWRSZXZpZXdzIiwiREVMRVRFIiwic3BsaWNlIiwiR0VUIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/blog/route.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fblog%2Froute&page=%2Fapi%2Fblog%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fblog%2Froute.js&appDir=D%3A%5Clockdown%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5Clockdown&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();