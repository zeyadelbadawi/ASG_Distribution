"use strict";(()=>{var exports={};exports.id=6861,exports.ids=[6861],exports.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},7147:e=>{e.exports=require("fs")},1017:e=>{e.exports=require("path")},6319:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>l,patchFetch:()=>f,requestAsyncStorage:()=>u,routeModule:()=>p,serverHooks:()=>c,staticGenerationAsyncStorage:()=>d});var a=r(9303),n=r(8716),s=r(3131),o=r(7178);let i="",p=new a.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/add-product/route",pathname:"/api/add-product",filename:"route",bundlePath:"app/api/add-product/route"},resolvedPagePath:"/home/ziad/ASG_Distribution/app/api/add-product/route.js",nextConfigOutput:i,userland:o}),{requestAsyncStorage:u,staticGenerationAsyncStorage:d,serverHooks:c}=p,l="/api/add-product/route";function f(){return(0,s.patchFetch)({serverHooks:c,staticGenerationAsyncStorage:d})}},7178:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{POST:()=>POST});var fs__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7147),fs__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_0__),path__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1017),path__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_1__);let filePath=path__WEBPACK_IMPORTED_MODULE_1___default().join(process.cwd(),"data","partnersData.js");function getPartnersData(){let data=fs__WEBPACK_IMPORTED_MODULE_0___default().readFileSync(filePath,"utf-8"),dataWithoutExport=data.replace("export default ","");return eval(dataWithoutExport)}function writePartnersData(e){let t=`const partnersData = ${JSON.stringify(e,null,2)};

export default partnersData;`;fs__WEBPACK_IMPORTED_MODULE_0___default().writeFileSync(filePath,t)}async function POST(e){let{partnerId:t,product:r}=await e.json();try{let e=getPartnersData(),a=e.find(e=>e.id===t);if(!a)return new Response("Partner not found",{status:404});return r.id=Date.now().toString(),a.products.push(r),writePartnersData(e),new Response(JSON.stringify({success:!0}),{status:200,headers:{"Content-Type":"application/json"}})}catch(e){return new Response(JSON.stringify({error:e.message}),{status:500,headers:{"Content-Type":"application/json"}})}}},9303:(e,t,r)=>{e.exports=r(517)}};var __webpack_require__=require("../../../webpack-runtime.js");__webpack_require__.C(exports);var __webpack_exec__=e=>__webpack_require__(__webpack_require__.s=e),__webpack_exports__=__webpack_require__.X(0,[8948],()=>__webpack_exec__(6319));module.exports=__webpack_exports__})();