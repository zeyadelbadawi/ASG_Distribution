"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/gallery/route";
exports.ids = ["app/api/gallery/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fgallery%2Froute&page=%2Fapi%2Fgallery%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fgallery%2Froute.js&appDir=D%3A%5Clockdown%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5Clockdown&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fgallery%2Froute&page=%2Fapi%2Fgallery%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fgallery%2Froute.js&appDir=D%3A%5Clockdown%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5Clockdown&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var D_lockdown_app_api_gallery_route_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/gallery/route.js */ \"(rsc)/./app/api/gallery/route.js\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/gallery/route\",\n        pathname: \"/api/gallery\",\n        filename: \"route\",\n        bundlePath: \"app/api/gallery/route\"\n    },\n    resolvedPagePath: \"D:\\\\lockdown\\\\app\\\\api\\\\gallery\\\\route.js\",\n    nextConfigOutput,\n    userland: D_lockdown_app_api_gallery_route_js__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/gallery/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZnYWxsZXJ5JTJGcm91dGUmcGFnZT0lMkZhcGklMkZnYWxsZXJ5JTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGZ2FsbGVyeSUyRnJvdXRlLmpzJmFwcERpcj1EJTNBJTVDbG9ja2Rvd24lNUNhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPUQlM0ElNUNsb2NrZG93biZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDUDtBQUN0RTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL3N0YXJ0LWFwcC1kaXIvP2RmZDciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiRDpcXFxcbG9ja2Rvd25cXFxcYXBwXFxcXGFwaVxcXFxnYWxsZXJ5XFxcXHJvdXRlLmpzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9nYWxsZXJ5L3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvZ2FsbGVyeVwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvZ2FsbGVyeS9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIkQ6XFxcXGxvY2tkb3duXFxcXGFwcFxcXFxhcGlcXFxcZ2FsbGVyeVxcXFxyb3V0ZS5qc1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvZ2FsbGVyeS9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fgallery%2Froute&page=%2Fapi%2Fgallery%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fgallery%2Froute.js&appDir=D%3A%5Clockdown%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5Clockdown&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/gallery/route.js":
/*!**********************************!*\
  !*** ./app/api/gallery/route.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DELETE: () => (/* binding */ DELETE),\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST),\n/* harmony export */   PUT: () => (/* binding */ PUT),\n/* harmony export */   sort: () => (/* binding */ sort)\n/* harmony export */ });\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst storageDir = path__WEBPACK_IMPORTED_MODULE_1___default().join(process.cwd(), \"storage\"); // Directory for storing JSON file\nconst filePath = path__WEBPACK_IMPORTED_MODULE_1___default().join(storageDir, \"gallery.json\"); // Path to the gallery.json file\nconst imageStorageDir = path__WEBPACK_IMPORTED_MODULE_1___default().join(process.cwd(), \"public/assets/images/gallery\"); // Path for image storage\n// Ensure the storage directory and gallery.json file exist\nif (!fs__WEBPACK_IMPORTED_MODULE_0___default().existsSync(storageDir)) {\n    fs__WEBPACK_IMPORTED_MODULE_0___default().mkdirSync(storageDir, {\n        recursive: true\n    });\n    console.log(\"Created storage directory:\", storageDir);\n}\nif (!fs__WEBPACK_IMPORTED_MODULE_0___default().existsSync(filePath)) {\n    fs__WEBPACK_IMPORTED_MODULE_0___default().writeFileSync(filePath, \"[]\", \"utf-8\"); // Initialize gallery.json with an empty array\n    console.log(\"Created gallery.json file with an empty array.\");\n}\n// Function to read and parse the JSON file\nconst readGalleryData = ()=>{\n    try {\n        const fileData = fs__WEBPACK_IMPORTED_MODULE_0___default().readFileSync(filePath, \"utf-8\");\n        return JSON.parse(fileData);\n    } catch (error) {\n        console.error(\"Error reading gallery data:\", error);\n        throw new Error(\"Failed to read gallery data.\");\n    }\n};\n// Function to write data to the JSON file\nconst writeGalleryData = (data)=>{\n    try {\n        fs__WEBPACK_IMPORTED_MODULE_0___default().writeFileSync(filePath, JSON.stringify(data, null, 2));\n        console.log(\"Gallery data saved successfully.\");\n    } catch (error) {\n        console.error(\"Error writing gallery data:\", error);\n        throw new Error(\"Failed to write gallery data.\");\n    }\n};\n// POST: Add new image\nasync function POST(req) {\n    try {\n        const formData = await req.formData();\n        let { id } = Object.fromEntries(formData.entries());\n        // Handle image upload\n        const image = formData.get(\"image\");\n        let imageUrl = \"\"; // Initialize with an empty string\n        if (image && image.size > 0) {\n            try {\n                if (!fs__WEBPACK_IMPORTED_MODULE_0___default().existsSync(imageStorageDir)) {\n                    fs__WEBPACK_IMPORTED_MODULE_0___default().mkdirSync(imageStorageDir, {\n                        recursive: true\n                    });\n                    console.log(\"Created image storage directory:\", imageStorageDir);\n                }\n                const imagePath = path__WEBPACK_IMPORTED_MODULE_1___default().join(imageStorageDir, image.name);\n                const arrayBuffer = await image.arrayBuffer();\n                await fs__WEBPACK_IMPORTED_MODULE_0___default().promises.writeFile(imagePath, Buffer.from(arrayBuffer));\n                // Update imageUrl to include the relative path\n                imageUrl = `/assets/images/gallery/${image.name}`;\n                console.log(\"Image uploaded successfully. Updated imageUrl:\", imageUrl);\n            } catch (imageError) {\n                console.error(\"Error uploading image:\", imageError);\n                throw new Error(\"Failed to upload image.\");\n            }\n        }\n        // Construct the blog data object\n        const blog = {\n            id,\n            imageUrl\n        };\n        // Read existing gallery data\n        let blogs = readGalleryData();\n        // Add the new blog data to the list\n        blogs.push(blog);\n        // Write updated gallery data to the file\n        writeGalleryData(blogs);\n        return new Response(JSON.stringify({\n            message: \"Data saved successfully!\"\n        }), {\n            status: 200,\n            headers: {\n                \"Content-Type\": \"application/json\"\n            }\n        });\n    } catch (error) {\n        console.error(\"Error in POST method:\", error);\n        return new Response(JSON.stringify({\n            message: `Error saving server data: ${error.message}`\n        }), {\n            status: 500,\n            headers: {\n                \"Content-Type\": \"application/json\"\n            }\n        });\n    }\n}\n// PUT: Update existing image\nasync function PUT(req) {\n    try {\n        const index = parseInt(new URL(req.url).searchParams.get(\"index\"));\n        const formData = await req.formData();\n        // Read existing gallery data\n        let blogs = readGalleryData();\n        // Get the existing data at the specified index\n        const existingData = blogs[index];\n        const id = formData.get(\"id\") || existingData.id;\n        let imageUrl = existingData.imageUrl;\n        // Handle image upload (only update if a new image is provided)\n        const image = formData.get(\"image\");\n        if (image && image.size > 0) {\n            try {\n                if (!fs__WEBPACK_IMPORTED_MODULE_0___default().existsSync(imageStorageDir)) {\n                    fs__WEBPACK_IMPORTED_MODULE_0___default().mkdirSync(imageStorageDir, {\n                        recursive: true\n                    });\n                    console.log(\"Created image storage directory:\", imageStorageDir);\n                }\n                const imagePath = path__WEBPACK_IMPORTED_MODULE_1___default().join(imageStorageDir, image.name);\n                const arrayBuffer = await image.arrayBuffer();\n                await fs__WEBPACK_IMPORTED_MODULE_0___default().promises.writeFile(imagePath, Buffer.from(arrayBuffer));\n                // Update imageUrl to include the relative path\n                imageUrl = `/assets/images/gallery/${image.name}`;\n                console.log(\"Image uploaded successfully:\", imageUrl);\n            } catch (imageError) {\n                console.error(\"Error uploading image:\", imageError);\n                throw new Error(\"Failed to upload image.\");\n            }\n        }\n        // Construct the updated blog data object\n        const blog = {\n            id,\n            imageUrl\n        };\n        // Update the blog data at the specified index\n        blogs[index] = blog;\n        // Write updated gallery data to the file\n        writeGalleryData(blogs);\n        return new Response(JSON.stringify({\n            message: \"Data updated successfully!\"\n        }), {\n            status: 200,\n            headers: {\n                \"Content-Type\": \"application/json\"\n            }\n        });\n    } catch (error) {\n        console.error(\"Error in PUT method:\", error);\n        return new Response(JSON.stringify({\n            message: `Error updating server data: ${error.message}`\n        }), {\n            status: 500,\n            headers: {\n                \"Content-Type\": \"application/json\"\n            }\n        });\n    }\n}\n// DELETE: Delete an image\nasync function DELETE(req) {\n    try {\n        const index = parseInt(new URL(req.url).searchParams.get(\"index\"));\n        // Read existing gallery data\n        let blogs = readGalleryData();\n        // Remove the blog data at the specified index\n        blogs.splice(index, 1);\n        // Write updated gallery data to the file\n        writeGalleryData(blogs);\n        return new Response(JSON.stringify({\n            message: \"Data deleted successfully!\"\n        }), {\n            status: 200,\n            headers: {\n                \"Content-Type\": \"application/json\"\n            }\n        });\n    } catch (error) {\n        console.error(\"Error in DELETE method:\", error);\n        return new Response(JSON.stringify({\n            message: `Error deleting server data: ${error.message}`\n        }), {\n            status: 500,\n            headers: {\n                \"Content-Type\": \"application/json\"\n            }\n        });\n    }\n}\n// GET: Fetch gallery data\nasync function GET() {\n    try {\n        let blogs = readGalleryData();\n        return new Response(JSON.stringify(blogs), {\n            status: 200,\n            headers: {\n                \"Content-Type\": \"application/json\"\n            }\n        });\n    } catch (error) {\n        console.error(\"Error in GET method:\", error);\n        return new Response(JSON.stringify({\n            message: \"Error fetching server data.\"\n        }), {\n            status: 500,\n            headers: {\n                \"Content-Type\": \"application/json\"\n            }\n        });\n    }\n}\n// POST: Handle sorting\nasync function sort(req) {\n    try {\n        const newOrder = await req.json(); // Receive the new order from the client\n        // Validate the incoming data\n        if (!Array.isArray(newOrder)) {\n            return new Response(JSON.stringify({\n                message: \"Invalid data format\"\n            }), {\n                status: 400,\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                }\n            });\n        }\n        // Write the updated order to the JSON file\n        writeGalleryData(newOrder);\n        return new Response(JSON.stringify({\n            message: \"Gallery order updated successfully!\"\n        }), {\n            status: 200,\n            headers: {\n                \"Content-Type\": \"application/json\"\n            }\n        });\n    } catch (error) {\n        console.error(\"Error updating gallery order:\", error);\n        return new Response(JSON.stringify({\n            message: `Error updating gallery order: ${error.message}`\n        }), {\n            status: 500,\n            headers: {\n                \"Content-Type\": \"application/json\"\n            }\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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U0FBUztvQkFDTCxnQkFBZ0I7Z0JBQ3BCO1lBQ0o7UUFDSjtRQUVBLDJDQUEyQztRQUMzQzVCLGlCQUFpQndDO1FBRWpCLE9BQU8sSUFBSWYsU0FBUzdCLEtBQUtNLFNBQVMsQ0FBQztZQUFFd0IsU0FBUztRQUFzQyxJQUFJO1lBQ3BGQyxRQUFRO1lBQ1JDLFNBQVM7Z0JBQ0wsZ0JBQWdCO1lBQ3BCO1FBQ0o7SUFDSixFQUFFLE9BQU85QixPQUFPO1FBQ1pSLFFBQVFRLEtBQUssQ0FBQyxpQ0FBaUNBO1FBQy9DLE9BQU8sSUFBSTJCLFNBQVM3QixLQUFLTSxTQUFTLENBQUM7WUFBRXdCLFNBQVMsQ0FBQyw4QkFBOEIsRUFBRTVCLE1BQU00QixPQUFPLENBQUMsQ0FBQztRQUFDLElBQUk7WUFDL0ZDLFFBQVE7WUFDUkMsU0FBUztnQkFDTCxnQkFBZ0I7WUFDcEI7UUFDSjtJQUNKO0FBQ0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdGFydC1hcHAtZGlyLy4vYXBwL2FwaS9nYWxsZXJ5L3JvdXRlLmpzPzBhMWIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGZzIGZyb20gJ2ZzJztcclxuaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7XHJcblxyXG5jb25zdCBzdG9yYWdlRGlyID0gcGF0aC5qb2luKHByb2Nlc3MuY3dkKCksICdzdG9yYWdlJyk7IC8vIERpcmVjdG9yeSBmb3Igc3RvcmluZyBKU09OIGZpbGVcclxuY29uc3QgZmlsZVBhdGggPSBwYXRoLmpvaW4oc3RvcmFnZURpciwgJ2dhbGxlcnkuanNvbicpOyAvLyBQYXRoIHRvIHRoZSBnYWxsZXJ5Lmpzb24gZmlsZVxyXG5jb25zdCBpbWFnZVN0b3JhZ2VEaXIgPSBwYXRoLmpvaW4ocHJvY2Vzcy5jd2QoKSwgJ3B1YmxpYy9hc3NldHMvaW1hZ2VzL2dhbGxlcnknKTsgLy8gUGF0aCBmb3IgaW1hZ2Ugc3RvcmFnZVxyXG5cclxuLy8gRW5zdXJlIHRoZSBzdG9yYWdlIGRpcmVjdG9yeSBhbmQgZ2FsbGVyeS5qc29uIGZpbGUgZXhpc3RcclxuaWYgKCFmcy5leGlzdHNTeW5jKHN0b3JhZ2VEaXIpKSB7XHJcbiAgICBmcy5ta2RpclN5bmMoc3RvcmFnZURpciwgeyByZWN1cnNpdmU6IHRydWUgfSk7XHJcbiAgICBjb25zb2xlLmxvZygnQ3JlYXRlZCBzdG9yYWdlIGRpcmVjdG9yeTonLCBzdG9yYWdlRGlyKTtcclxufVxyXG5cclxuaWYgKCFmcy5leGlzdHNTeW5jKGZpbGVQYXRoKSkge1xyXG4gICAgZnMud3JpdGVGaWxlU3luYyhmaWxlUGF0aCwgJ1tdJywgJ3V0Zi04Jyk7IC8vIEluaXRpYWxpemUgZ2FsbGVyeS5qc29uIHdpdGggYW4gZW1wdHkgYXJyYXlcclxuICAgIGNvbnNvbGUubG9nKCdDcmVhdGVkIGdhbGxlcnkuanNvbiBmaWxlIHdpdGggYW4gZW1wdHkgYXJyYXkuJyk7XHJcbn1cclxuXHJcbi8vIEZ1bmN0aW9uIHRvIHJlYWQgYW5kIHBhcnNlIHRoZSBKU09OIGZpbGVcclxuY29uc3QgcmVhZEdhbGxlcnlEYXRhID0gKCkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBmaWxlRGF0YSA9IGZzLnJlYWRGaWxlU3luYyhmaWxlUGF0aCwgJ3V0Zi04Jyk7XHJcbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoZmlsZURhdGEpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciByZWFkaW5nIGdhbGxlcnkgZGF0YTonLCBlcnJvcik7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gcmVhZCBnYWxsZXJ5IGRhdGEuJyk7XHJcbiAgICB9XHJcbn07XHJcblxyXG4vLyBGdW5jdGlvbiB0byB3cml0ZSBkYXRhIHRvIHRoZSBKU09OIGZpbGVcclxuY29uc3Qgd3JpdGVHYWxsZXJ5RGF0YSA9IChkYXRhKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGZzLndyaXRlRmlsZVN5bmMoZmlsZVBhdGgsIEpTT04uc3RyaW5naWZ5KGRhdGEsIG51bGwsIDIpKTtcclxuICAgICAgICBjb25zb2xlLmxvZygnR2FsbGVyeSBkYXRhIHNhdmVkIHN1Y2Nlc3NmdWxseS4nKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igd3JpdGluZyBnYWxsZXJ5IGRhdGE6JywgZXJyb3IpO1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIHdyaXRlIGdhbGxlcnkgZGF0YS4nKTtcclxuICAgIH1cclxufTtcclxuXHJcbi8vIFBPU1Q6IEFkZCBuZXcgaW1hZ2VcclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IGZvcm1EYXRhID0gYXdhaXQgcmVxLmZvcm1EYXRhKCk7XHJcbiAgICAgICAgbGV0IHsgaWQgfSA9IE9iamVjdC5mcm9tRW50cmllcyhmb3JtRGF0YS5lbnRyaWVzKCkpO1xyXG5cclxuICAgICAgICAvLyBIYW5kbGUgaW1hZ2UgdXBsb2FkXHJcbiAgICAgICAgY29uc3QgaW1hZ2UgPSBmb3JtRGF0YS5nZXQoJ2ltYWdlJyk7XHJcbiAgICAgICAgbGV0IGltYWdlVXJsID0gJyc7IC8vIEluaXRpYWxpemUgd2l0aCBhbiBlbXB0eSBzdHJpbmdcclxuXHJcbiAgICAgICAgaWYgKGltYWdlICYmIGltYWdlLnNpemUgPiAwKSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWZzLmV4aXN0c1N5bmMoaW1hZ2VTdG9yYWdlRGlyKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZzLm1rZGlyU3luYyhpbWFnZVN0b3JhZ2VEaXIsIHsgcmVjdXJzaXZlOiB0cnVlIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdDcmVhdGVkIGltYWdlIHN0b3JhZ2UgZGlyZWN0b3J5OicsIGltYWdlU3RvcmFnZURpcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3QgaW1hZ2VQYXRoID0gcGF0aC5qb2luKGltYWdlU3RvcmFnZURpciwgaW1hZ2UubmFtZSk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBhcnJheUJ1ZmZlciA9IGF3YWl0IGltYWdlLmFycmF5QnVmZmVyKCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBmcy5wcm9taXNlcy53cml0ZUZpbGUoaW1hZ2VQYXRoLCBCdWZmZXIuZnJvbShhcnJheUJ1ZmZlcikpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBpbWFnZVVybCB0byBpbmNsdWRlIHRoZSByZWxhdGl2ZSBwYXRoXHJcbiAgICAgICAgICAgICAgICBpbWFnZVVybCA9IGAvYXNzZXRzL2ltYWdlcy9nYWxsZXJ5LyR7aW1hZ2UubmFtZX1gO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0ltYWdlIHVwbG9hZGVkIHN1Y2Nlc3NmdWxseS4gVXBkYXRlZCBpbWFnZVVybDonLCBpbWFnZVVybCk7XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGltYWdlRXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwbG9hZGluZyBpbWFnZTonLCBpbWFnZUVycm9yKTtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIHVwbG9hZCBpbWFnZS4nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQ29uc3RydWN0IHRoZSBibG9nIGRhdGEgb2JqZWN0XHJcbiAgICAgICAgY29uc3QgYmxvZyA9IHtcclxuICAgICAgICAgICAgaWQsXHJcbiAgICAgICAgICAgIGltYWdlVXJsLFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIFJlYWQgZXhpc3RpbmcgZ2FsbGVyeSBkYXRhXHJcbiAgICAgICAgbGV0IGJsb2dzID0gcmVhZEdhbGxlcnlEYXRhKCk7XHJcblxyXG4gICAgICAgIC8vIEFkZCB0aGUgbmV3IGJsb2cgZGF0YSB0byB0aGUgbGlzdFxyXG4gICAgICAgIGJsb2dzLnB1c2goYmxvZyk7XHJcblxyXG4gICAgICAgIC8vIFdyaXRlIHVwZGF0ZWQgZ2FsbGVyeSBkYXRhIHRvIHRoZSBmaWxlXHJcbiAgICAgICAgd3JpdGVHYWxsZXJ5RGF0YShibG9ncyk7XHJcblxyXG4gICAgICAgIHJldHVybiBuZXcgUmVzcG9uc2UoSlNPTi5zdHJpbmdpZnkoeyBtZXNzYWdlOiAnRGF0YSBzYXZlZCBzdWNjZXNzZnVsbHkhJyB9KSwge1xyXG4gICAgICAgICAgICBzdGF0dXM6IDIwMCxcclxuICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9KTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgaW4gUE9TVCBtZXRob2Q6JywgZXJyb3IpO1xyXG4gICAgICAgIHJldHVybiBuZXcgUmVzcG9uc2UoSlNPTi5zdHJpbmdpZnkoeyBtZXNzYWdlOiBgRXJyb3Igc2F2aW5nIHNlcnZlciBkYXRhOiAke2Vycm9yLm1lc3NhZ2V9YCB9KSwge1xyXG4gICAgICAgICAgICBzdGF0dXM6IDUwMCxcclxuICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG5cclxuLy8gUFVUOiBVcGRhdGUgZXhpc3RpbmcgaW1hZ2VcclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBVVChyZXEpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgaW5kZXggPSBwYXJzZUludChuZXcgVVJMKHJlcS51cmwpLnNlYXJjaFBhcmFtcy5nZXQoJ2luZGV4JykpO1xyXG4gICAgICAgIGNvbnN0IGZvcm1EYXRhID0gYXdhaXQgcmVxLmZvcm1EYXRhKCk7XHJcblxyXG4gICAgICAgIC8vIFJlYWQgZXhpc3RpbmcgZ2FsbGVyeSBkYXRhXHJcbiAgICAgICAgbGV0IGJsb2dzID0gcmVhZEdhbGxlcnlEYXRhKCk7XHJcblxyXG4gICAgICAgIC8vIEdldCB0aGUgZXhpc3RpbmcgZGF0YSBhdCB0aGUgc3BlY2lmaWVkIGluZGV4XHJcbiAgICAgICAgY29uc3QgZXhpc3RpbmdEYXRhID0gYmxvZ3NbaW5kZXhdO1xyXG4gICAgICAgIGNvbnN0IGlkID0gZm9ybURhdGEuZ2V0KCdpZCcpIHx8IGV4aXN0aW5nRGF0YS5pZDtcclxuICAgICAgICBsZXQgaW1hZ2VVcmwgPSBleGlzdGluZ0RhdGEuaW1hZ2VVcmw7XHJcblxyXG4gICAgICAgIC8vIEhhbmRsZSBpbWFnZSB1cGxvYWQgKG9ubHkgdXBkYXRlIGlmIGEgbmV3IGltYWdlIGlzIHByb3ZpZGVkKVxyXG4gICAgICAgIGNvbnN0IGltYWdlID0gZm9ybURhdGEuZ2V0KCdpbWFnZScpO1xyXG4gICAgICAgIGlmIChpbWFnZSAmJiBpbWFnZS5zaXplID4gMCkge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFmcy5leGlzdHNTeW5jKGltYWdlU3RvcmFnZURpcikpIHtcclxuICAgICAgICAgICAgICAgICAgICBmcy5ta2RpclN5bmMoaW1hZ2VTdG9yYWdlRGlyLCB7IHJlY3Vyc2l2ZTogdHJ1ZSB9KTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnQ3JlYXRlZCBpbWFnZSBzdG9yYWdlIGRpcmVjdG9yeTonLCBpbWFnZVN0b3JhZ2VEaXIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IGltYWdlUGF0aCA9IHBhdGguam9pbihpbWFnZVN0b3JhZ2VEaXIsIGltYWdlLm5hbWUpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgYXJyYXlCdWZmZXIgPSBhd2FpdCBpbWFnZS5hcnJheUJ1ZmZlcigpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgZnMucHJvbWlzZXMud3JpdGVGaWxlKGltYWdlUGF0aCwgQnVmZmVyLmZyb20oYXJyYXlCdWZmZXIpKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBVcGRhdGUgaW1hZ2VVcmwgdG8gaW5jbHVkZSB0aGUgcmVsYXRpdmUgcGF0aFxyXG4gICAgICAgICAgICAgICAgaW1hZ2VVcmwgPSBgL2Fzc2V0cy9pbWFnZXMvZ2FsbGVyeS8ke2ltYWdlLm5hbWV9YDtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdJbWFnZSB1cGxvYWRlZCBzdWNjZXNzZnVsbHk6JywgaW1hZ2VVcmwpO1xyXG4gICAgICAgICAgICB9IGNhdGNoIChpbWFnZUVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB1cGxvYWRpbmcgaW1hZ2U6JywgaW1hZ2VFcnJvcik7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byB1cGxvYWQgaW1hZ2UuJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIENvbnN0cnVjdCB0aGUgdXBkYXRlZCBibG9nIGRhdGEgb2JqZWN0XHJcbiAgICAgICAgY29uc3QgYmxvZyA9IHtcclxuICAgICAgICAgICAgaWQsXHJcbiAgICAgICAgICAgIGltYWdlVXJsLFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIFVwZGF0ZSB0aGUgYmxvZyBkYXRhIGF0IHRoZSBzcGVjaWZpZWQgaW5kZXhcclxuICAgICAgICBibG9nc1tpbmRleF0gPSBibG9nO1xyXG5cclxuICAgICAgICAvLyBXcml0ZSB1cGRhdGVkIGdhbGxlcnkgZGF0YSB0byB0aGUgZmlsZVxyXG4gICAgICAgIHdyaXRlR2FsbGVyeURhdGEoYmxvZ3MpO1xyXG5cclxuICAgICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKEpTT04uc3RyaW5naWZ5KHsgbWVzc2FnZTogJ0RhdGEgdXBkYXRlZCBzdWNjZXNzZnVsbHkhJyB9KSwge1xyXG4gICAgICAgICAgICBzdGF0dXM6IDIwMCxcclxuICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9KTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgaW4gUFVUIG1ldGhvZDonLCBlcnJvcik7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShKU09OLnN0cmluZ2lmeSh7IG1lc3NhZ2U6IGBFcnJvciB1cGRhdGluZyBzZXJ2ZXIgZGF0YTogJHtlcnJvci5tZXNzYWdlfWAgfSksIHtcclxuICAgICAgICAgICAgc3RhdHVzOiA1MDAsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8vIERFTEVURTogRGVsZXRlIGFuIGltYWdlXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBERUxFVEUocmVxKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IGluZGV4ID0gcGFyc2VJbnQobmV3IFVSTChyZXEudXJsKS5zZWFyY2hQYXJhbXMuZ2V0KCdpbmRleCcpKTtcclxuXHJcbiAgICAgICAgLy8gUmVhZCBleGlzdGluZyBnYWxsZXJ5IGRhdGFcclxuICAgICAgICBsZXQgYmxvZ3MgPSByZWFkR2FsbGVyeURhdGEoKTtcclxuXHJcbiAgICAgICAgLy8gUmVtb3ZlIHRoZSBibG9nIGRhdGEgYXQgdGhlIHNwZWNpZmllZCBpbmRleFxyXG4gICAgICAgIGJsb2dzLnNwbGljZShpbmRleCwgMSk7XHJcblxyXG4gICAgICAgIC8vIFdyaXRlIHVwZGF0ZWQgZ2FsbGVyeSBkYXRhIHRvIHRoZSBmaWxlXHJcbiAgICAgICAgd3JpdGVHYWxsZXJ5RGF0YShibG9ncyk7XHJcblxyXG4gICAgICAgIHJldHVybiBuZXcgUmVzcG9uc2UoSlNPTi5zdHJpbmdpZnkoeyBtZXNzYWdlOiAnRGF0YSBkZWxldGVkIHN1Y2Nlc3NmdWxseSEnIH0pLCB7XHJcbiAgICAgICAgICAgIHN0YXR1czogMjAwLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH0pO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBpbiBERUxFVEUgbWV0aG9kOicsIGVycm9yKTtcclxuICAgICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKEpTT04uc3RyaW5naWZ5KHsgbWVzc2FnZTogYEVycm9yIGRlbGV0aW5nIHNlcnZlciBkYXRhOiAke2Vycm9yLm1lc3NhZ2V9YCB9KSwge1xyXG4gICAgICAgICAgICBzdGF0dXM6IDUwMCxcclxuICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG5cclxuLy8gR0VUOiBGZXRjaCBnYWxsZXJ5IGRhdGFcclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVCgpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgbGV0IGJsb2dzID0gcmVhZEdhbGxlcnlEYXRhKCk7XHJcblxyXG4gICAgICAgIHJldHVybiBuZXcgUmVzcG9uc2UoSlNPTi5zdHJpbmdpZnkoYmxvZ3MpLCB7XHJcbiAgICAgICAgICAgIHN0YXR1czogMjAwLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH0pO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBpbiBHRVQgbWV0aG9kOicsIGVycm9yKTtcclxuICAgICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKEpTT04uc3RyaW5naWZ5KHsgbWVzc2FnZTogJ0Vycm9yIGZldGNoaW5nIHNlcnZlciBkYXRhLicgfSksIHtcclxuICAgICAgICAgICAgc3RhdHVzOiA1MDAsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8vIFBPU1Q6IEhhbmRsZSBzb3J0aW5nXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzb3J0KHJlcSkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBuZXdPcmRlciA9IGF3YWl0IHJlcS5qc29uKCk7IC8vIFJlY2VpdmUgdGhlIG5ldyBvcmRlciBmcm9tIHRoZSBjbGllbnRcclxuXHJcbiAgICAgICAgLy8gVmFsaWRhdGUgdGhlIGluY29taW5nIGRhdGFcclxuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkobmV3T3JkZXIpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgUmVzcG9uc2UoSlNPTi5zdHJpbmdpZnkoeyBtZXNzYWdlOiAnSW52YWxpZCBkYXRhIGZvcm1hdCcgfSksIHtcclxuICAgICAgICAgICAgICAgIHN0YXR1czogNDAwLFxyXG4gICAgICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFdyaXRlIHRoZSB1cGRhdGVkIG9yZGVyIHRvIHRoZSBKU09OIGZpbGVcclxuICAgICAgICB3cml0ZUdhbGxlcnlEYXRhKG5ld09yZGVyKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShKU09OLnN0cmluZ2lmeSh7IG1lc3NhZ2U6ICdHYWxsZXJ5IG9yZGVyIHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5IScgfSksIHtcclxuICAgICAgICAgICAgc3RhdHVzOiAyMDAsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfSk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwZGF0aW5nIGdhbGxlcnkgb3JkZXI6JywgZXJyb3IpO1xyXG4gICAgICAgIHJldHVybiBuZXcgUmVzcG9uc2UoSlNPTi5zdHJpbmdpZnkoeyBtZXNzYWdlOiBgRXJyb3IgdXBkYXRpbmcgZ2FsbGVyeSBvcmRlcjogJHtlcnJvci5tZXNzYWdlfWAgfSksIHtcclxuICAgICAgICAgICAgc3RhdHVzOiA1MDAsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbImZzIiwicGF0aCIsInN0b3JhZ2VEaXIiLCJqb2luIiwicHJvY2VzcyIsImN3ZCIsImZpbGVQYXRoIiwiaW1hZ2VTdG9yYWdlRGlyIiwiZXhpc3RzU3luYyIsIm1rZGlyU3luYyIsInJlY3Vyc2l2ZSIsImNvbnNvbGUiLCJsb2ciLCJ3cml0ZUZpbGVTeW5jIiwicmVhZEdhbGxlcnlEYXRhIiwiZmlsZURhdGEiLCJyZWFkRmlsZVN5bmMiLCJKU09OIiwicGFyc2UiLCJlcnJvciIsIkVycm9yIiwid3JpdGVHYWxsZXJ5RGF0YSIsImRhdGEiLCJzdHJpbmdpZnkiLCJQT1NUIiwicmVxIiwiZm9ybURhdGEiLCJpZCIsIk9iamVjdCIsImZyb21FbnRyaWVzIiwiZW50cmllcyIsImltYWdlIiwiZ2V0IiwiaW1hZ2VVcmwiLCJzaXplIiwiaW1hZ2VQYXRoIiwibmFtZSIsImFycmF5QnVmZmVyIiwicHJvbWlzZXMiLCJ3cml0ZUZpbGUiLCJCdWZmZXIiLCJmcm9tIiwiaW1hZ2VFcnJvciIsImJsb2ciLCJibG9ncyIsInB1c2giLCJSZXNwb25zZSIsIm1lc3NhZ2UiLCJzdGF0dXMiLCJoZWFkZXJzIiwiUFVUIiwiaW5kZXgiLCJwYXJzZUludCIsIlVSTCIsInVybCIsInNlYXJjaFBhcmFtcyIsImV4aXN0aW5nRGF0YSIsIkRFTEVURSIsInNwbGljZSIsIkdFVCIsInNvcnQiLCJuZXdPcmRlciIsImpzb24iLCJBcnJheSIsImlzQXJyYXkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/api/gallery/route.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fgallery%2Froute&page=%2Fapi%2Fgallery%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fgallery%2Froute.js&appDir=D%3A%5Clockdown%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5Clockdown&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();