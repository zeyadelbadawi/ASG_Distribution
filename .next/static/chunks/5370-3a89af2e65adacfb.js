"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5370],{5370:function(e,a,t){t.r(a);var l=t(7437),s=t(2265);a.default=()=>{let[e,a]=(0,s.useState)(""),[t,r]=(0,s.useState)(""),[n,i]=(0,s.useState)(""),[o,c]=(0,s.useState)(null),[d,m]=(0,s.useState)(null),[u,b]=(0,s.useState)(""),[p,h]=(0,s.useState)(""),[x,f]=(0,s.useState)([""]),[v,N]=(0,s.useState)([""]),[j,g]=(0,s.useState)([]),[y,S]=(0,s.useState)(null);(0,s.useEffect)(()=>{E()},[]);let E=async()=>{try{let e=await fetch("/services.json"),a=await e.json();g(a)}catch(e){console.error("Error fetching server data:",e)}},w=(e,a)=>{let t=[...x];t[e]=a,f(t)},C=(e,a)=>{let t=[...v];t[e]=a,N(t)},k=e=>{f(x.filter((a,t)=>t!==e))},R=e=>{N(v.filter((a,t)=>t!==e))},D=()=>{if(null!==y){var e;let a=null===(e=j[y])||void 0===e?void 0:e.tabNumber;return!j.some(e=>e.tabNumber===parseInt(u,10)&&e.tabNumber!==a)}return!j.some(e=>e.tabNumber===parseInt(u,10))},I=async a=>{if(a.preventDefault(),isNaN(parseInt(u,10))){alert("Tab number must be a valid number.");return}if(null===y&&!D()){alert("Tab number already exists! Please choose a different tab number.");return}try{let a="",l="";if(null!==y){let e=j[y];a=e.imageUrl||"",l=e.iconUrl||""}if(o){let e=new FormData;e.append("file",o);let t=await fetch("/api/uploadImage",{method:"POST",body:e});if(t.ok)a=(await t.json()).imageUrl;else throw Error("Image upload failed.")}if(d){let e=new FormData;e.append("file",d);let a=await fetch("/api/uploadImage",{method:"POST",body:e});if(a.ok)l=(await a.json()).imageUrl;else throw Error("Icon upload failed.")}let s={title:e,description:t,description1:n,imageUrl:a,iconUrl:l,tabNumber:parseInt(u,10),description2:p,points:x.filter(e=>""!==e.trim()),benefits:v.filter(e=>""!==e.trim())},r=await fetch(null!==y?"/api/saveServerData?index=".concat(y):"/api/saveServerData",{method:null!==y?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!r.ok){let e=await r.json();throw Error(e.error||"Failed to save server data.")}alert("Service data saved successfully!"),E(),P()}catch(e){console.error("Error saving server data:",e),alert("Failed to save server data: ".concat(e.message))}},T=e=>{let t=j[e];a(t.title),r(t.description),i(t.description1),h(t.description2),b(t.tabNumber),f(t.points||[""]),N(t.benefits||[""]),S(e)},F=async e=>{try{await fetch("/api/saveServerData?index=".concat(e),{method:"DELETE"}),alert("Server data deleted successfully!"),E()}catch(e){console.error("Error deleting server data:",e),alert("Failed to delete server data.")}},P=()=>{a(""),r(""),i(""),c(null),m(null),b(""),h(""),f([""]),N([""]),S(null)};return(0,l.jsxs)("div",{className:"container mt-5",children:[(0,l.jsx)("h1",{className:"text-center mb-4",children:"Solutions Dashboard"}),(0,l.jsx)("div",{className:"card mx-auto shadow-lg p-4",style:{maxWidth:"600px",borderRadius:"15px"},children:(0,l.jsxs)("form",{onSubmit:I,children:[(0,l.jsxs)("div",{className:"mb-3",children:[(0,l.jsx)("label",{className:"form-label",children:"Server Name:"}),(0,l.jsx)("input",{type:"text",className:"form-control",value:e,onChange:e=>a(e.target.value),placeholder:"Enter server name",style:{borderRadius:"10px"}})]}),(0,l.jsxs)("div",{className:"mb-3",children:[(0,l.jsx)("label",{className:"form-label",children:"Solutions Description:"}),(0,l.jsx)("textarea",{className:"form-control",value:t,onChange:e=>r(e.target.value),placeholder:"Enter server description",style:{borderRadius:"10px"}})]}),(0,l.jsxs)("div",{className:"mb-3",children:[(0,l.jsx)("label",{className:"form-label",children:"Solutions Image:"}),(0,l.jsx)("input",{type:"file",className:"form-control",onChange:e=>c(e.target.files[0]),style:{borderRadius:"10px"}})]}),(0,l.jsxs)("div",{className:"mb-3",children:[(0,l.jsx)("label",{className:"form-label",children:"Icon (SVG):"}),(0,l.jsx)("input",{type:"file",className:"form-control",onChange:e=>m(e.target.files[0]),accept:".svg",style:{borderRadius:"10px"}})]}),(0,l.jsxs)("div",{className:"mb-3",children:[(0,l.jsx)("label",{className:"form-label",children:"Tab Number:"}),(0,l.jsx)("input",{type:"number",className:"form-control",value:u,onChange:e=>b(e.target.value),placeholder:"Enter tab number",style:{borderRadius:"10px"}})]}),(0,l.jsxs)("div",{className:"mb-3",children:[(0,l.jsx)("label",{className:"form-label",children:"Solutions details Description:"}),(0,l.jsx)("textarea",{className:"form-control",value:n,onChange:e=>i(e.target.value),placeholder:"Enter Solutions details description1",style:{borderRadius:"10px"}})]}),(0,l.jsxs)("div",{className:"mb-3",children:[(0,l.jsx)("label",{className:"form-label",children:"Solution detailsDescription 2:"}),(0,l.jsx)("textarea",{className:"form-control",value:p,onChange:e=>h(e.target.value),placeholder:"Enter additional description",style:{borderRadius:"10px"}})]}),(0,l.jsxs)("div",{className:"mb-3",children:[(0,l.jsx)("label",{className:"form-label",children:"Points:"}),x.map((e,a)=>(0,l.jsxs)("div",{className:"d-flex mb-2",children:[(0,l.jsx)("input",{type:"text",className:"form-control",value:e,onChange:e=>w(a,e.target.value),placeholder:"Enter point",style:{borderRadius:"10px"}}),(0,l.jsx)("button",{type:"button",className:"btn btn-danger ms-2",onClick:()=>k(a),children:"Remove"})]},a)),(0,l.jsx)("button",{type:"button",className:"btn btn-secondary mt-2",onClick:()=>f([...x,""]),children:"Add Point"})]}),(0,l.jsxs)("div",{className:"mb-3",children:[(0,l.jsx)("label",{className:"form-label",children:"Benefits:"}),v.map((e,a)=>(0,l.jsxs)("div",{className:"d-flex mb-2",children:[(0,l.jsx)("input",{type:"text",className:"form-control",value:e,onChange:e=>C(a,e.target.value),placeholder:"Enter benefit",style:{borderRadius:"10px"}}),(0,l.jsx)("button",{type:"button",className:"btn btn-danger ms-2",onClick:()=>R(a),children:"Remove"})]},a)),(0,l.jsx)("button",{type:"button",className:"btn btn-secondary mt-2",onClick:()=>N([...v,""]),children:"Add Benefit"})]}),(0,l.jsx)("button",{type:"submit",className:"btn btn-primary w-100",style:{borderRadius:"10px",backgroundColor:"#FF6600"},children:null!==y?"Update":"Save"})]})}),(0,l.jsxs)("div",{className:"mt-5",children:[(0,l.jsx)("h2",{className:"text-center",children:"Existing Solutions"}),(0,l.jsx)("ul",{className:"list-group",children:j.map((e,a)=>(0,l.jsxs)("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:[e.title,(0,l.jsxs)("div",{children:[(0,l.jsx)("button",{className:"btn btn-warning btn-sm me-2",onClick:()=>T(a),children:"Edit"}),(0,l.jsx)("button",{className:"btn btn-danger btn-sm",onClick:()=>F(a),children:"Delete"})]})]},a))})]})]})}}}]);