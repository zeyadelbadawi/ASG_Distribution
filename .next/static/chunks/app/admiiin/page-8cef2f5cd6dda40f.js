(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1408],{2414:function(e,a,l){Promise.resolve().then(l.bind(l,9904))},9904:function(e,a,l){"use strict";l.r(a);var s=l(7437),t=l(2265);a.default=()=>{let[e,a]=(0,t.useState)(""),[l,r]=(0,t.useState)(""),[n,i]=(0,t.useState)(""),[o,c]=(0,t.useState)(""),[d,m]=(0,t.useState)(""),[u,p]=(0,t.useState)(""),[b,x]=(0,t.useState)(""),[h,g]=(0,t.useState)(null),[v,f]=(0,t.useState)([]),[j,N]=(0,t.useState)([]),[y,E]=(0,t.useState)(""),[w,S]=(0,t.useState)([]),[C,R]=(0,t.useState)(null);(0,t.useEffect)(()=>{D()},[]);let D=async()=>{try{let e=await fetch("/api/blog"),a=await e.json();S(a)}catch(e){console.error("Error fetching server data:",e)}},B=async a=>{a.preventDefault();let s=w.findIndex(a=>a.id===e);if(-1!==s&&s!==C){alert("The ID already exists. Please use a different ID.");return}let t=new FormData;t.append("id",e),t.append("date",l),t.append("title",n),t.append("description",o),t.append("description2",d),t.append("category",u),t.append("comments",b),t.append("reviews",j.join(",")),t.append("image",h),v.forEach((e,a)=>{t.append("multiImage".concat(a),e)});try{let e=null!==C?"/api/blog?index=".concat(C):"/api/blog",a=null!==C?"PUT":"POST";await fetch(e,{method:a,body:t}),alert("Server data saved successfully!"),D(),I()}catch(e){console.error("Error saving server data:",e),alert("Failed to save server data.")}},k=e=>{let l=w[e];a(l.id),r(l.date),i(l.title),c(l.description),m(l.description2),p(l.category),x(l.comments),N(l.reviews&&"string"==typeof l.reviews?l.reviews.split(","):Array.isArray(l.reviews)?l.reviews:[]),R(e)},F=async e=>{try{await fetch("/api/blog?index=".concat(e),{method:"DELETE"}),alert("Server data deleted successfully!"),D()}catch(e){console.error("Error deleting server data:",e),alert("Failed to delete server data.")}},I=()=>{a(""),r(""),i(""),c(""),m(""),p(""),x(""),N([]),E(""),g(null),f([]),R(null)};return(0,s.jsxs)("div",{className:"container mt-5",children:[(0,s.jsx)("h1",{className:"text-center mb-4",children:"Admin Dashboard For Blogs"}),(0,s.jsx)("div",{className:"card mx-auto shadow-lg p-4",style:{maxWidth:"600px",borderRadius:"15px"},children:(0,s.jsxs)("form",{onSubmit:B,children:[(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("label",{className:"form-label",children:"Blog ID:"}),(0,s.jsx)("textarea",{className:"form-control",value:e,onChange:e=>a(e.target.value),placeholder:"Enter blog ID",style:{borderRadius:"10px"}})]}),(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("label",{className:"form-label",children:"Blog Date:"}),(0,s.jsx)("textarea",{className:"form-control",value:l,onChange:e=>r(e.target.value),placeholder:"Enter blog date",style:{borderRadius:"10px"}})]}),(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("label",{className:"form-label",children:"Blog Name:"}),(0,s.jsx)("input",{type:"text",className:"form-control",value:n,onChange:e=>i(e.target.value),placeholder:"Enter blog name",style:{borderRadius:"10px"}})]}),(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("label",{className:"form-label",children:"Blog Description:"}),(0,s.jsx)("textarea",{className:"form-control",value:o,onChange:e=>c(e.target.value),placeholder:"Enter blog description",style:{borderRadius:"10px"}})]}),(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("label",{className:"form-label",children:"Blog Description 2:"}),(0,s.jsx)("textarea",{className:"form-control",value:d,onChange:e=>m(e.target.value),placeholder:"Enter blog description 2",style:{borderRadius:"10px"}})]}),(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("label",{className:"form-label",children:"Blog Category:"}),(0,s.jsx)("textarea",{className:"form-control",value:u,onChange:e=>p(e.target.value),placeholder:"Enter blog category",style:{borderRadius:"10px"}})]}),(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("label",{className:"form-label",children:"Blog Comment:"}),(0,s.jsx)("textarea",{className:"form-control",value:b,onChange:e=>x(e.target.value),placeholder:"Enter blog comment",style:{borderRadius:"10px"}})]}),(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("label",{className:"form-label",children:"Reviews:"}),(0,s.jsx)("textarea",{className:"form-control",value:j.join("\n"),onChange:e=>N(e.target.value.split("\n")),placeholder:"Enter reviews, one per line",style:{borderRadius:"10px"}})]}),(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("label",{className:"form-label",children:"Reviews:"}),(0,s.jsx)("ul",{className:"list-group",children:j.map((e,a)=>(0,s.jsx)("li",{className:"list-group-item",children:e},a))})]}),(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("label",{className:"form-label",children:"Single Blog Picture:"}),(0,s.jsx)("input",{type:"file",className:"form-control",onChange:e=>g(e.target.files[0]),style:{borderRadius:"10px"}})]}),(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("label",{className:"form-label",children:"Multiple Blog Pictures:"}),(0,s.jsx)("input",{type:"file",className:"form-control",onChange:e=>f(Array.from(e.target.files)),style:{borderRadius:"10px"},multiple:!0})]}),(0,s.jsx)("button",{type:"submit",className:"btn btn-primary w-100",style:{borderRadius:"10px",backgroundColor:"#FF6600"},children:null!==C?"Update":"Save"})]})}),(0,s.jsxs)("div",{className:"mt-5",children:[(0,s.jsx)("h2",{className:"text-center",children:"Existing Blogs"}),(0,s.jsx)("ul",{className:"list-group",children:w.map((e,a)=>(0,s.jsxs)("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:[e.title," - ",e.description,(0,s.jsxs)("div",{children:[(0,s.jsx)("button",{className:"btn btn-warning btn-sm me-2",onClick:()=>k(a),children:"Edit"}),(0,s.jsx)("button",{className:"btn btn-danger btn-sm",onClick:()=>F(a),children:"Delete"})]})]},a))})]})]})}}},function(e){e.O(0,[2971,7023,1744],function(){return e(e.s=2414)}),_N_E=e.O()}]);