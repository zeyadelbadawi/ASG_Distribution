(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1718],{8929:function(e,t,n){Promise.resolve().then(n.bind(n,5111))},5111:function(e,t,n){"use strict";n.r(t);var s=n(7437),l=n(2265),r=n(4887),c=n(9582),a=n(1980),o=n.n(a),i=n(2280);n(594),n(5320);var u=n(1942);t.default=()=>{let[e,t]=(0,l.useState)([]),[n,a]=(0,l.useState)(!1),[m,d]=(0,l.useState)(!1),[h,x]=(0,l.useState)(!1),[f,p]=(0,l.useState)(!1),[b,j]=(0,l.useState)([]),[g,v]=(0,l.useState)(""),[N,y]=(0,l.useState)(!1),k=(0,l.useRef)(null),w=(0,l.useRef)(null),[S,C]=(0,l.useState)(!1),E=(0,l.useRef)(null),F=(0,l.useRef)(null),[R,P]=(0,l.useState)(!1),[L,T]=(0,l.useState)([]),[Z,_]=(0,l.useState)(!1),{width:A,height:W}=(0,i.Z)(),[I,q]=(0,l.useState)([]),D=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=[...e];for(let e=0;e<t;e++)for(let e=n.length-1;e>0;e--){let t=Math.floor(crypto.getRandomValues(new Uint32Array(1))[0]/4294967296*(e+1));[n[e],n[t]]=[n[t],n[e]]}return n},M=n=>{w.current&&c.ZP.to(w.current,{volume:0,duration:.5,onComplete:()=>{w.current.pause(),w.current.currentTime=0}});let s=e[n];s&&(new Audio("/assets/mu1.mp3").play().catch(e=>console.error("Audio failed:",e)),(0,r.flushSync)(()=>v(s)),(0,r.flushSync)(()=>j(e=>[...e,s])),B(n),m&&(0,r.flushSync)(()=>{t(e=>e.filter(e=>e!==s)),q(e=>e.filter(e=>e!==s))}),_(!0),setTimeout(()=>_(!1),3e3)),T([]),a(!1)},O=e=>{c.ZP.to(F.current,{y:-(100*e),duration:.5,ease:"power2.out",onComplete:()=>M(e)})},B=e=>{let t=E.current;if(!t){console.error("Winner element not found!");return}let{width:n,height:s}=t.getBoundingClientRect();P(!0),c.ZP.fromTo(t,{opacity:0,scale:.5,top:"50%",left:"50%",position:"absolute",transform:"translate(-50%, -50%)"},{opacity:1,scale:4,duration:1.5,ease:"power4.out",onComplete:()=>{setTimeout(()=>{c.ZP.to(t,{opacity:0,duration:1}),P(!1),setTimeout(()=>{y(!1)},2500)},1e4)}})},V=(0,l.useRef)(null);return(0,l.useEffect)(()=>{let e=()=>{C(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",e),()=>{document.removeEventListener("fullscreenchange",e)}},[]),(0,l.useEffect)(()=>{V.current&&V.current.scrollIntoView({behavior:"smooth"})},[b]),(0,l.useEffect)(()=>()=>clearInterval(k.current),[]),(0,s.jsxs)("div",{className:"container-fluid vh-100 d-flex flex-column align-items-center justify-content-center p-0",children:[R&&(0,s.jsx)("div",{className:"overlay"}),Z&&(0,s.jsx)(o(),{width:A,height:W})," ",(0,s.jsx)("div",{ref:E,className:"winner-animation",children:g}),(0,s.jsxs)("div",{className:"winners-table-container position-absolute top-0 start-0 m-3 rounded shadow-lg",children:[(0,s.jsxs)("h2",{children:[(0,s.jsx)(u.yyP,{})," Winners Table"]}),(0,s.jsx)("div",{className:"table-wrapper",children:(0,s.jsxs)("table",{className:"table",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"#"}),(0,s.jsx)("th",{children:"Winner Number"})]})}),(0,s.jsxs)("tbody",{children:[b.map((e,t)=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:t+1}),(0,s.jsx)("td",{children:e})]},t)),(0,s.jsx)("tr",{ref:V})," "]})]})})]}),(0,s.jsx)("img",{src:"assets/1.png",className:"logo mt-4",alt:"Logo",style:{width:"200px",height:"200px"}}),(0,s.jsxs)("div",{className:"top-right-icons position-absolute top-0 end-0 p-3",children:[(0,s.jsx)(u.p4t,{className:"icon me-4",onClick:()=>p(e=>!e)}),(0,s.jsx)(u.a1O,{className:"icon",onClick:()=>{document.fullscreenElement?document.exitFullscreen().then(()=>{C(!1),document.querySelector(".container-fluid").classList.remove("fullscreen")}):document.documentElement.requestFullscreen().then(()=>{C(!0),document.querySelector(".container-fluid").classList.add("fullscreen")})},title:S?"Exit Fullscreen":"Enter Fullscreen"})]}),(0,s.jsx)("br",{})," ",(0,s.jsx)("br",{}),(0,s.jsx)("h1",{className:"text-center mb-4 big-title",style:{color:"#FFFFFF"},children:"Lucky Draw"}),(0,s.jsxs)("div",{className:"drawer ".concat(f?"open":""," position-fixed shadow-lg"),children:[(0,s.jsx)("button",{className:"btn-close btn-close-white ms-auto mt-2 me-3",onClick:()=>p(!1)}),(0,s.jsx)("h2",{className:"text-center mb-4 modern-title",children:"Settings"}),(0,s.jsx)("textarea",{className:"form-control modern-textarea",value:I.join("\n"),onChange:e=>{q(e.target.value.split("\n").map(e=>e.trim()).filter(Boolean))},rows:"9",placeholder:"Enter names, each on a new line..."}),(0,s.jsx)("br",{}),(0,s.jsxs)("div",{className:"form-check modern-checkbox d-flex align-items-center gap-3 mb-3",children:[(0,s.jsx)("input",{className:"form-check-input",type:"checkbox",checked:m,onChange:()=>d(e=>!e),id:"removeWinnerCheckbox"}),(0,s.jsxs)("label",{className:"form-check-label d-flex align-items-center gap-2",htmlFor:"removeWinnerCheckbox",children:[(0,s.jsx)(u.Xm5,{})," Remove winner from list"]})]}),(0,s.jsxs)("div",{className:"form-check modern-checkbox d-flex align-items-center gap-3 mb-4",children:[(0,s.jsx)("input",{className:"form-check-input",type:"checkbox",checked:h,onChange:()=>x(e=>!e),id:"enableSoundCheckbox"}),(0,s.jsxs)("label",{className:"form-check-label d-flex align-items-center gap-2",htmlFor:"enableSoundCheckbox",children:[(0,s.jsx)(u.rxG,{})," Enable sound effect"]})]}),(0,s.jsx)("div",{className:"d-flex justify-content-center mt-4",children:(0,s.jsx)("button",{className:"btn btn-success px-4 py-2 mt-4",onClick:()=>{t(D(I,5)),p(!1)},children:"Save & Close"})})]}),(0,s.jsx)("div",{className:"result-box my-4 bigger-box",children:(0,s.jsx)("div",{className:"scrolling-text-container",children:(0,s.jsx)("div",{ref:F,className:"scrolling-text",children:L.map((e,t)=>(0,s.jsx)("div",{className:"name-item",children:e},t))})})}),(0,s.jsx)("button",{onClick:()=>{if(e.length>0){a(!0),y(!0),h&&(w.current=new Audio("/assets/mu0.mp3"),w.current.loop=!0,w.current.oncanplaythrough=()=>{w.current.play().catch(e=>console.error("Audio failed:",e))}),T(e);let t=0,n=e.length;k.current=setInterval(()=>{t=(t+1)%e.length,F.current.style.transform="translateY(-".concat(100*t,"px)")},Math.max(20,200-n)),c.ZP.timeline().to({},{duration:Math.min(3e3+10*n,7e3)/1e3}).call(()=>O(t))}},className:"btn btn-lg my-3 custom-draw-button",disabled:n||N||0===e.length,style:{cursor:N?"wait":n?"not-allowed":"pointer"},children:n?"Drawing...":"Draw"}),(0,s.jsx)("div",{className:"bottom-images d-flex justify-content-center gap-4 mt-auto mb-5",children:(0,s.jsx)("img",{src:"assets/5.png",className:"img-thumbnail no-bg",alt:"Image 3"})})]})}},5320:function(){}},function(e){e.O(0,[6610,7471,7699,922,5919,2971,7023,1744],function(){return e(e.s=8929)}),_N_E=e.O()}]);